(this["webpackJsonp@dc-rich-text-editor/extension"]=this["webpackJsonp@dc-rich-text-editor/extension"]||[]).push([[0],{136:function(e,t,n){e.exports=n(257)},146:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),l=n.n(o),i=n(21),c=n(52),s=n.n(c),u=n(77),d=n(56),p=n(57),f=n(66),m=n(58),b=n(51),h=n(67),v=n(103),y=n(15),g=n(18),k=n(125),O=n(309),E=n(259),w=n(311),j=n(308),S=n(4),C=Object(S.a)({root:{flex:1,display:"flex",minHeight:286,maxHeight:500},textarea:{flex:1,outline:"none",resize:"none",backgroundColor:"#f0f0f0",border:"1px solid rgba(157,162,162,.3)",padding:"10px 8px 0",fontFamily:"roboto,sans-serif!important",fontSize:13}})((function(e){var t=e.classes,n=e.value,a=e.onChange,o=e.readOnly,l=void 0!==o&&o,i=r.a.useCallback((function(e){a&&a(e.target.value)}),[a]);return r.a.createElement("div",{className:t.root},r.a.createElement("textarea",{readOnly:l,className:t.textarea,value:n,onChange:i}))}));n(146);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var N,P=n(29).EditorState,D=n(86).EditorView,I=n(148).exampleSetup,_=function(e){function t(e){var n;Object(d.a)(this,t),n=Object(f.a)(this,Object(m.a)(t).call(this,e));var a=r.a.createRef();return n.state={ref:a},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"createEditorState",value:function(){var e=this.props,t=e.schema,n=e.doc;return P.create({schema:t,doc:n,plugins:I({schema:t,menuBar:!1})})}},{key:"createEditorView",value:function(e){var t=this,n=this.props,a=n.onUpdateState,r=n.onChange,o=this.createEditorState(),l=new D(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props.editorViewOptions,{state:o,dispatchTransaction:function(e){var n=l.state.applyTransaction(e),o=n.state,i=n.transactions;l.updateState(o),a&&a(o,l),i.some((function(e){return e.docChanged}))&&r&&r(o.doc),t.forceUpdate()}}));return a&&a(l.state,l),l}},{key:"componentDidMount",value:function(){if(this.state.ref&&!this.state.editorView){var e=this.createEditorView(this.state.ref.current);this.setState({editorView:e})}}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root,ref:this.state.ref})}}]),t}(r.a.Component),M=Object(S.a)({root:{width:"100%",minHeight:250,maxHeight:600,overflowY:"scroll"}})(_),T=n(6);!function(e){e.EDIT="edit",e.CODE="code"}(N||(N={}));var z,V=Object(S.a)({root:{display:"flex"},button:{outline:"none",transition:"color 0.2s linear,border-bottom-color 0.2s linear",height:40,cursor:"pointer",background:"transparent",border:"0 solid transparent",borderTop:"3px solid transparent",borderBottom:"3px solid transparent",fontSize:13,padding:"0 15px",color:"#999999",fontWeight:"bold"},selected:{color:"#1EA7FD",borderBottomColor:"#1EA7FD"}})((function(e){var t=e.classes,n=e.onChange,a=e.language,o=e.disableCodeView,l=e.disableEditView,c=r.a.useState(l?N.CODE:N.EDIT),s=Object(g.a)(c,2),u=s[0],d=s[1],p=r.a.useCallback((function(e){d(e),n&&n(e)}),[d]),f=r.a.useCallback((function(e,n){return r.a.createElement("button",{onClick:function(){return p(n)},className:Object(T.a)(t.button,Object(i.a)({},t.selected,u===n)),type:"button",role:"tab"},e)}),[u,p]);return r.a.createElement("div",{className:t.root},!l&&f("Edit",N.EDIT),!o&&f(a||"Code",N.CODE))}));function L(e){return e.selection.$from.depth>1}function A(e,t){var n=e.selection,a=n.from,r=n.$from,o=n.to;return n.empty?t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(a,o,t)}!function(e){e.TEXT="text",e.JSON="json"}(z||(z={}));var W=n(117),J=n.n(W),H=n(78),R=n.n(H),B=n(109),$=n.n(B),F=n(118),q=n.n(F),U=n(113),G=n.n(U),X=n(110),Q=n.n(X),Y=n(114),K=n.n(Y),Z=n(115),ee=n.n(Z),te=n(116),ne=n.n(te),ae=n(112),re=n.n(ae),oe=n(111),le=n.n(oe),ie=n(108),ce=n.n(ie),se=n(107),ue=n.n(se);function de(e,t){return(!t.tools||!t.tools.blacklist||-1===t.tools.blacklist.indexOf(e))&&(!t.tools||!t.tools.whitelist||-1!==t.tools.whitelist.indexOf(e))}var pe=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},fe=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},me=n(70),be=me.undo,he=me.redo,ve=n(71),ye=ve.toggleMark,ge=ve.setBlockType,ke=ve.lift,Oe=n(88).wrapInList;function Ee(e,t,n,a){return{name:e,label:t,displayIcon:n,isActive:function(e){return A(e,a)},apply:ye(a)}}function we(e,t){var n=this;return function(a,r,o){return pe(n,void 0,void 0,(function(){var n;return fe(this,(function(l){switch(l.label){case 0:if(A(a,e))return ye(e)(a,r,o),[2];if(!t)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t()];case 2:return n=l.sent(),ye(e,{href:n.href,title:""===n.title?void 0:n.title})(a,r,o),[3,4];case 3:return l.sent(),[3,4];case 4:return[2]}}))}))}}function je(e,t){var n=this;return function(a,r,o){return pe(n,void 0,void 0,(function(){var n;return fe(this,(function(a){switch(a.label){case 0:if(!t)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t()];case 2:return n=a.sent(),o.dispatch(o.state.tr.replaceSelectionWith(e.createAndFill({src:n.src,title:""===n.title?void 0:n.title,alt:""===n.alt?void 0:n.alt}))),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}}))}))}}function Se(e,t){var n=ge(e.nodes.heading,{level:t});return{name:"heading_"+t,label:"Heading "+t,displayLabel:r.a.createElement("h"+t,{style:{margin:0}},"Heading "+t),apply:n,isEnabled:function(e){return n(e)},isActive:function(e,t){return!n(e,null,t)}}}function Ce(e,t){var n=[];if(de("undo",t)&&n.push({name:"undo",label:"Undo",displayIcon:r.a.createElement(ue.a,null),isEnabled:function(e){return be(e)},apply:be}),de("redo",t)&&n.push({name:"redo",label:"Redo",displayIcon:r.a.createElement(ce.a,null),isEnabled:function(e){return he(e)},apply:he}),de("strong",t)&&e.marks.strong&&n.push(function(e){return Ee("strong","Bold",r.a.createElement($.a,null),e.marks.strong)}(e)),de("em",t)&&e.marks.em&&n.push(function(e){return Ee("em","Italic",r.a.createElement(Q.a,null),e.marks.em)}(e)),de("code",t)&&e.marks.code&&n.push(function(e){return Ee("code","Code",r.a.createElement(R.a,null),e.marks.code)}(e)),de("link",t)&&e.marks.link&&n.push(function(e,t){return{name:"link",label:"Add or remove Link",displayIcon:r.a.createElement(le.a,null),isActive:function(t){return A(t,e.marks.link)},isEnabled:function(e){return!e.selection.empty},apply:we(e.marks.link,t)}}(e,t.dialogs?t.dialogs.getHyperlink:void 0)),de("lift",t)&&n.push({name:"lift",label:"Decrease Indentation",displayIcon:r.a.createElement(G.a,null),isVisible:function(e){return ke(e)},apply:ke}),de("bullet_list",t)&&e.nodes.bullet_list&&n.push(function(e){return{name:"bullet_list",label:"Bullet List",displayIcon:r.a.createElement(K.a,null),isEnabled:function(t){return Oe(e.nodes.bullet_list,{})(t)},apply:Oe(e.nodes.bullet_list,{})}}(e)),de("ordered_list",t)&&e.nodes.ordered_list&&n.push(function(e){return{name:"ordered_list",label:"Ordered List",displayIcon:r.a.createElement(ee.a,null),isEnabled:function(t){return Oe(e.nodes.ordered_list,{})(t)},apply:Oe(e.nodes.ordered_list,{})}}(e)),de("image",t)&&e.nodes.image&&n.push(function(e,t){return{name:"image",label:"Insert Image from URL",displayIcon:r.a.createElement(re.a,null),apply:je(e.nodes.image,t)}}(e,t.dialogs?t.dialogs.getImage:void 0)),de("blockquote",t)&&e.nodes.blockquote&&n.push(function(e){return{name:"blockquote",label:"Quote",displayIcon:r.a.createElement(ne.a,null),isEnabled:function(t){return Oe(e.nodes.blockquote,{})(t)},apply:Oe(e.nodes.blockquote,{})}}(e)),de("heading",t)&&e.nodes.heading)for(var a=1;a<7;a++)n.push(Se(e,a));return de("paragraph",t)&&e.nodes.paragraph&&n.push(function(e){var t=ge(e.nodes.paragraph);return{name:"paragraph",label:"Normal text",displayLabel:r.a.createElement("p",{style:{margin:0,padding:0,display:"inline"}},"Normal text"),apply:t,isEnabled:function(e){return t(e)},isActive:function(e,n){return!t(e,null,n)}}}(e)),de("code_block",t)&&e.nodes.code_block&&n.push(function(e){var t=ge(e.nodes.code_block);return{name:"code_block",label:"Code Block",displayLabel:r.a.createElement("code",null,"Code Block"),displayIcon:r.a.createElement(R.a,null),apply:t,isEnabled:function(e){return t(e)},isActive:function(e,n){return!t(e,null,n)}}}(e)),de("horizontal_rule",t)&&e.nodes.horizontal_rule&&n.push(function(e){return{name:"horizontal_rule",label:"Insert Horizontal Rule",displayIcon:r.a.createElement(J.a,null),apply:function(t,n){n(t.tr.replaceSelectionWith(e.nodes.horizontal_rule.create()))},isEnabled:function(t){return function(e,t){for(var n=e.selection.$from,a=n.depth;a>=0;a--){var r=n.index(a);if(n.node(a).canReplaceWith(r,r,t))return!0}return!1}(t,e.nodes.horizontal_rule)}}}(e)),de("clear_formatting",t)&&n.push({name:"clear_formatting",label:"Clear Formatting",displayIcon:r.a.createElement(q.a,null),apply:function(e,t){var n=e.selection,a=n.$cursor,r=n.ranges;if(t)if(a)for(var o=0,l=e.storedMarks||a.marks();o<l.length;o++){var i=l[o];t(e.tr.removeStoredMark(i.type))}else{for(var c=e.tr,s=0,u=r;s<u.length;s++)for(var d=u[s],p=0,f=Object.keys(e.schema.marks);p<f.length;p++){var m=f[p];c.removeMark(d.$from.pos,d.$to.pos,e.schema.marks[m])}t(c)}return!0},isEnabled:function(e){return!0}}),n}var xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ne={attrs:{class:{default:""},style:{default:""}},group:"inline",parseDOM:[{tag:"span",getAttrs:function(e){return{class:e.getAttribute("class"),style:e.attributes.style.value}}}],toDOM:function(e){return["span",xe(xe({},e.attrs.style?{style:e.attrs.style}:{}),{class:e&&e.attrs&&e.attrs.class?e.attrs.class:""}),0]}},Pe=function(){return(Pe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function De(e,t,n,a){var r;return n>t&&e.doc.nodesBetween(t,n,(function(e){return!a.isInSet(e.marks)||(r=e.marks.find((function(e){return e.type===a})),!1)})),r}function Ie(e,t){return Pe(Pe({},e),t)}function _e(e,t,n){var a,o,l=e.marks.inline_styles;return{name:"inline_styles_className_"+t,label:n,displayLabel:r.a.createElement("span",{className:t},n),apply:(a=l,o={class:t},function(e,t){var n=e.selection,r=n.$cursor,l=n.ranges;if(t)if(r)if(a.isInSet(e.storedMarks||r.marks())){var i=function(e,t){var n=e.selection.$cursor;if(n)return(e.storedMarks||n.marks()).find((function(e){return e.type===t}))}(e,a);t(e.tr.removeStoredMark(a)),i&&t(e.tr.addStoredMark(a.create(Ie(i.attrs,o))))}else t(e.tr.addStoredMark(a.create(o)));else{for(var c=!1,s=e.tr,u=0;!c&&u<l.length;u++){var d=l[u],p=d.$from,f=d.$to;c=e.doc.rangeHasMark(p.pos,f.pos,a)}for(var m=0,b=l;m<b.length;m++){var h=b[m],v=h.$from,y=h.$to;if(c){var g=Pe({},De(e,v.pos,y.pos,a).attrs);s.removeMark(v.pos,y.pos,a),s.addMark(v.pos,y.pos,a.create(Ie(g,o)))}else s.addMark(v.pos,y.pos,a.create(o))}t(s.scrollIntoView())}return!0}),isEnabled:function(e){return!0},isActive:function(e){return function(e,t,n){var a=e.selection,r=a.from,o=a.$from,l=a.to;return a.empty?!!t.isInSet(e.storedMarks||o.marks())&&(e.storedMarks||o.marks()).filter(n).length>0:function(e,t,n,a,r){var o=!1;return n>t&&e.nodesBetween(t,n,(function(e){return a.isInSet(e.marks)&&e.marks.filter(r).length>0&&(o=!0),!o})),o}(e.doc,r,l,t,n)}(e,l,(function(e){return e.attrs.class===t}))}}}var Me={inline_styles:{open:function(e,t,n,a){var r={};t.attrs.class&&(r.class=t.attrs.class);var o=Object.keys(r).map((function(e){return e+'="'+r[e]+'"'})).join(" ");return o.length>0?"<span "+o+">":"<span>"},close:"</span>"}},Te=function(){return(Te=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ze=n(42),Ve=n(210);var Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ae=n(42);var We=n(24).Schema;function Je(e){void 0===e&&(e=!1);var t=n(42).schema,a=t.spec.marks;return e&&(a=a.addToEnd("inline_styles",Ne)),new We({nodes:t.spec.nodes,marks:a})}var He=function(){function e(e){void 0===e&&(e={}),this.name="markdown",this.label="Markdown";var t=de("inline_styles",e),n=Je(t),a=Ce(n,e);t&&(a=a.concat(a,function(e,t){var n=[];if(e.marks.inline_styles&&de("inline_styles",t)&&t.tools&&t.tools.inline_styles){var a=t.tools.inline_styles;if(a.classNames)for(var r=0,o=a.classNames;r<o.length;r++){var l=o[r];n.push(_e(e,l.className,l.label))}}return n}(n,e)));var r=function(e){return void 0===e&&(e=!1),e?new Ae.MarkdownSerializer(Ae.defaultMarkdownSerializer.nodes,Le(Le({},Ae.defaultMarkdownSerializer.marks),Me)):Ae.defaultMarkdownSerializer}(t),o=function(e,t){if(void 0===t&&(t=!1),!t)return ze.defaultMarkdownParser;var n=new ze.MarkdownParser(e,Ve("commonmark",{html:!0}),Te({},ze.defaultMarkdownParser.tokens));return n.tokenHandlers.html_inline=function(t,n){if(n&&n.content){var a=(n.content||"").trim();if(a.startsWith("<span")&&a.endsWith(">")){var r=(new DOMParser).parseFromString(n.content,"text/html").body.firstChild;if(!r)return;if("span"===r.nodeName.toLowerCase()){var o=r.getAttribute("class");t.openMark(e.marks.inline_styles.create({class:o}))}}else"</span>"===a&&t.closeMark(e.marks.inline_styles)}},n.tokenHandlers.html_block=function(){},n}(n,t);this.schema=n,this.tools=a,this.serializer=r,this.parser=o}return e.prototype.serialize=function(e){return this.serializer.serialize(e)},e.prototype.parse=function(e){return e||(e=""),this.parser.parse(e)},e}(),Re={format:z.TEXT},Be=function(e){return{language:new He(e),conf:Re}},$e=n(302),Fe=r.a.createContext({}),qe=n(301),Ue=Object(S.a)({root:{margin:"1px"}})((function(e){var t=e.toolName,n=e.classes,a=r.a.useContext(Fe),o=a.getToolState,l=a.applyTool,i=o?o(t):null,c=r.a.useCallback((function(e){var n=document.activeElement;l&&l(t),null!=n&&setTimeout((function(){return n.focus()}),0)}),[t,l]);return i&&i.visible?r.a.createElement(qe.a,{className:Object(T.a)(n.root),onMouseDown:c,size:"small",disabled:!i.enabled,color:i.active?"primary":"default",title:i.label},i.displayIcon?i.displayIcon:i.label):null})),Ge=n(264),Xe=n(314),Qe=Object(S.a)({value:{fontSize:14,paddingLeft:6,paddingRight:6,fontWeight:"unset"}})((function(e){var t=e.toolNames,n=e.classes,a=e.label,o=r.a.useContext(Fe),l=o.getToolState,i=o.applyTool,c=t.map((function(e){return l?l(e):null})).filter((function(e){return null!=e})),s=c.find((function(e){return e.active})),u=s?s.name:"",d=r.a.useCallback((function(e){i&&i(e.target.value)}),[i]),p=r.a.useCallback((function(e){if(!e)return a||"";var t=l?l(e):void 0;return t||(t={label:e}),t.displayLabel?r.a.cloneElement(t.displayLabel,{className:n.value}):t.label}),[l]);return 0===c.length?null:r.a.createElement(Ge.a,{value:u,onChange:d,renderValue:p,displayEmpty:!0,onMouseDown:function(e){return e.preventDefault()}},c.map((function(e){return r.a.createElement(Xe.a,{value:e.name,key:e.name,onMouseDown:function(e){return e.preventDefault()}},e.displayLabel?e.displayLabel:r.a.createElement("span",null,e.label))})))})),Ye=Object(S.a)({root:{display:"flex",alignItems:"center"},divider:{verticalAlign:"top",display:"inline-flex",height:13,lineHeight:13,borderRight:"1px solid rgb(218, 220, 224)",margin:"9px 4px"},empty:{display:"none"}})((function(e){var t=e.children,n=e.classes;return r.a.createElement("div",{className:Object(T.a)(n.root,Object(i.a)({},n.empty,!t))},t,r.a.createElement("div",{className:n.divider}))})),Ke=Object(S.a)({root:{minHeight:35,borderBottom:"1px solid rgb(218, 220, 224)"}})((function(e){var t=e.classes,n=e.layout,a=e.toolbarState;return r.a.createElement(Fe.Provider,{value:{applyTool:function(e){if(a){var t=a.tools.find((function(t){return t.name===e}));t&&t.apply(a.editorView.state,a.editorView.dispatch,a.editorView)}},getToolState:function(e){if(a)return a.toolStates[e]}}},r.a.createElement($e.a,{className:t.root,disableGutters:!0},n.map((function(e){return function e(t){switch(t.type){case"button":return r.a.createElement(Ue,{toolName:t.toolName});case"dropdown":return r.a.createElement(Qe,{toolNames:t.toolNames,label:t.label});case"group":return r.a.createElement(Ye,null,t.children.map((function(t){return e(t)})));default:return null}}(e)}))))})),Ze=[{type:"group",children:[{type:"button",toolName:"undo"},{type:"button",toolName:"redo"}]},{type:"dropdown",label:"Styles",toolNames:["paragraph","heading_1","heading_2","heading_3","heading_4","heading_5","heading_6","code_block"]},{type:"group",children:[{type:"button",toolName:"strong"},{type:"button",toolName:"em"},{type:"button",toolName:"link"}]},{type:"group",children:[{type:"button",toolName:"lift"},{type:"button",toolName:"bullet_list"},{type:"button",toolName:"ordered_list"}]},{type:"group",children:[{type:"button",toolName:"dc-image-link"},{type:"button",toolName:"image"},{type:"button",toolName:"dc-content-link"},{type:"button",toolName:"blockquote"},{type:"button",toolName:"code_block"},{type:"button",toolName:"horizontal_rule"}]},{type:"group",children:[{type:"button",toolName:"clear_formatting"}]}];function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=n(313),at=n(303),rt=n(304),ot=n(260),lt=n(300),it=n(263),ct=n(305),st=n(306);function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var dt=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=r.a.useState({href:"",title:""}),l=Object(g.a)(o,2),c=l[0],s=l[1],u=r.a.useState(!1),d=Object(g.a)(u,2),p=d[0],f=d[1],m=r.a.useCallback((function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,Object(i.a)({},e,t));s(n),f(function(e){return null!=e&&e.length>0}(n.href))}),[c,s,f]),b=function(){s({href:"",title:""})},h=r.a.useCallback((function(){b(),n()}),[s,n]),v=r.a.useCallback((function(){b(),a(c)}),[c,s,a]);return r.a.createElement(nt.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(at.a,{id:"form-dialog-title"},"Hyperlink"),r.a.createElement(rt.a,null,r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(lt.a,{autoFocus:!0,id:"href",label:"Web Address",type:"input",required:!0,fullWidth:!0,value:c.href,onChange:function(e){return m("href",e.target.value)}}),r.a.createElement(it.a,null,"Example: https://www.storefront.com/black-friday")),r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(lt.a,{id:"title",label:"Title",type:"input",fullWidth:!0,value:c.title,onChange:function(e){return m("title",e.target.value)}}),r.a.createElement(it.a,null,"Example: Black Friday Sale"))),r.a.createElement(ct.a,null,r.a.createElement(st.a,{onClick:h,color:"primary"},"Cancel"),r.a.createElement(st.a,{disabled:!p,onClick:v,color:"primary"},"Confirm")))};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ft=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=r.a.useState({src:"",alt:"",title:""}),l=Object(g.a)(o,2),c=l[0],s=l[1],u=r.a.useState(!1),d=Object(g.a)(u,2),p=d[0],f=d[1],m=r.a.useCallback((function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,Object(i.a)({},e,t));s(n),f(function(e){return null!=e&&e.length>0}(n.src))}),[c,s,f]),b=function(){s({src:"",alt:"",title:""})},h=r.a.useCallback((function(){b(),n()}),[s,n]),v=r.a.useCallback((function(){b(),a(c)}),[c,s,a]);return r.a.createElement(nt.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(at.a,{id:"form-dialog-title"},"Insert Image from URL"),r.a.createElement(rt.a,null,r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(lt.a,{autoFocus:!0,id:"src",label:"Image Address",type:"input",required:!0,fullWidth:!0,value:c.src,onChange:function(e){return m("src",e.target.value)}}),r.a.createElement(it.a,null,"Example: https://cdn.storefront.com/image.jpg")),r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(lt.a,{id:"title",label:"Image Title",type:"input",fullWidth:!0,value:c.title,onChange:function(e){return m("title",e.target.value)}}),r.a.createElement(it.a,null,"Example: Black Friday Sale")),r.a.createElement(ot.a,{fullWidth:!0},r.a.createElement(lt.a,{id:"alt",label:"Image Alternative Text",type:"input",fullWidth:!0,value:c.alt,onChange:function(e){return m("alt",e.target.value)}}),r.a.createElement(it.a,null,"Example: Black Friday Sale"))),r.a.createElement(ct.a,null,r.a.createElement(st.a,{onClick:h,color:"primary"},"Cancel"),r.a.createElement(st.a,{disabled:!p,onClick:v,color:"primary"},"Insert")))},mt=r.a.createContext({}),bt=function(e){var t=e.children,n=r.a.useState(),a=Object(g.a)(n,2),o=a[0],l=a[1],i=r.a.useCallback((function(){o&&o.reject(),l(void 0)}),[o,l]),c=r.a.useCallback((function(e){o&&o.resolve(e),l(void 0)}),[o,l]),s=r.a.useCallback((function(e){return new Promise((function(t,n){l({type:e,resolve:t,reject:n})}))}),[l]),u=r.a.useContext(y.d).sdk,d={getHyperlink:function(e){return s("hyperlink")},getImage:function(e){return s("image")},getDcImageLink:function(e){return u?u.mediaLink.getImage():Promise.reject()},getDcContentLink:function(e,t){return u?u.contentLink.get(e):Promise.reject()}};return r.a.createElement(mt.Provider,{value:{dialogs:d}},t,r.a.createElement(dt,{open:null!=o&&"hyperlink"===o.type,onClose:i,onSubmit:c}),r.a.createElement(ft,{open:null!=o&&"image"===o.type,onClose:i,onSubmit:c}))},ht=Object(S.a)({root:{width:"100%",height:"100%",display:"flex"},frame:{flex:1,display:"flex",flexDirection:"column",border:"1px solid rgba(157,162,162,.3)",borderRadius:5,padding:"0 10px 10px 10px"}})((function(e){var t=e.classes,n=e.languages,a=e.language,o=void 0===a?"markdown":a,l=e.toolbarLayout,i=e.disableToolbar,c=void 0!==i&&i,s=e.disableCodeView,u=void 0!==s&&s,d=e.readOnlyCodeView,p=void 0!==d&&d,f=e.editorViewOptions,m=e.value,b=e.locale,h=e.onChange,v=r.a.useContext(mt).dialogs,y=n||{markdown:Be({dialogs:v})};if(!y[o])throw new Error("Unable to find language ".concat(e.language));var k=y[o],O=k.language,E=k.conf,w=r.a.useState(N.EDIT),j=Object(g.a)(w,2),S=j[0],x=j[1],P=r.a.useState((function(){if(m&&b)return E.format===z.JSON?JSON.stringify(m,null,3):m})),D=Object(g.a)(P,2),I=D[0],_=D[1],T=r.a.useState((function(){if(m)try{return O.parse(m)}catch(e){}})),L=Object(g.a)(T,2),A=L[0],W=L[1],J=r.a.useCallback((function(e){if(_(e),E.format===z.JSON)try{e=JSON.parse(e)}catch(n){return}h&&h(b,e);try{var t=O.parse(e);W(t)}catch(n){}}),[E,_,W,h]),H=r.a.useCallback((function(e){W(e);try{var t=O.serialize(e);E.format===z.JSON?_(JSON.stringify(t,null,3)):_(t),h&&h(b,t)}catch(n){}}),[E,W,_]),R=r.a.useState(),B=Object(g.a)(R,2),$=B[0],F=B[1],q=l||Ze,U=r.a.useCallback((function(e,t){F(function(e,t,n){var a={},r=!0,o=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var s=i.value,u=tt({active:!1,enabled:!0,visible:!0},s);s.isActive&&(u.active=s.isActive(t,n)),s.isVisible&&(u.visible=s.isVisible(t,n)),s.isEnabled&&(u.enabled=s.isEnabled(t,n)),a[s.name]=u}}catch(d){o=!0,l=d}finally{try{r||null==c.return||c.return()}finally{if(o)throw l}}return{tools:e,toolStates:a,editorView:n}}(O.tools,e,t))}),[O,F]);return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.frame},r.a.createElement(V,{onChange:x,language:O.label,disableCodeView:u}),S===N.EDIT?r.a.createElement("div",null,!c&&r.a.createElement(Ke,{toolbarState:$,layout:q}),r.a.createElement(M,{editorViewOptions:f,schema:O.schema,onChange:H,onUpdateState:U,doc:A})):r.a.createElement(C,{value:I,onChange:J,readOnly:p})))}));var vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},yt=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},gt=Object(S.a)({root:{display:"block",width:"100%",minHeight:150,margin:"0 10px 10px 0",position:"relative"},content:{},"empty-slot":{},"populated-slot":{}})((function(e){var t,n=e.classes,a=e.children,o=e.className,l=e.variant,i=void 0===l?"empty":l,c=e.aspectRatio,s=yt(e,["classes","children","className","variant","aspectRatio"]),u=r.a.useMemo((function(){if(c){var e=c.split(":");if(2===e.length)return Math.round(Number(e[1])/Number(e[0])*100)+"%"}}),[c]);return r.a.createElement("div",vt({},s,{className:Object(T.a)(n.root,(t={},t[n["empty-slot"]]="empty-slot"===i,t[n["populated-slot"]]="populated-slot"===i,t),o)}),c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"block",paddingTop:u}},"\xa0"),r.a.createElement("div",{className:Object(T.a)(n.content)},a)):r.a.createElement("div",{className:Object(T.a)(n.content)},a))})),kt=n(307),Ot=n(119),Et=n.n(Ot),wt=Object(S.a)({root:{"&$broken, &$invalid":{background:"#e5e5e5"}},image:{maxWidth:"100%"},loading:{},broken:{},invalid:{},statusIcons:{top:0,left:0,right:0,bottom:0,display:"flex",position:"absolute",alignItems:"center",alignContent:"center",flexDirection:"row",justifyContent:"center"}})((function(e){var t,n=e.node,a=e.onDelete,o=e.classes,l=e.options,i=n.attrs.value,c=r.a.useState(!1),s=c[0],u=c[1],d=r.a.useState(!1),p=d[0],f=d[1],m=r.a.useCallback((function(){f(!0)}),[f]),b=r.a.useCallback((function(){u(!0),f(!1)}),[u,f]),h=r.a.useCallback((function(){u(!1),f(!1)}),[u,f]),v=i&&i.endpoint&&i.name,g=y.e;return r.a.createElement("div",{className:Object(T.a)(o.root,(t={},t[o.broken]=s,t[o.loading]=p,t[o.invalid]=!v,t))},r.a.createElement(gt,{variant:"populated-slot",aspectRatio:s||p||!v?"3:1":void 0},!!v&&r.a.createElement("img",{className:o.image,src:"//"+(l&&l.dynamicContent&&l.dynamicContent.stagingEnvironment?l.dynamicContent.stagingEnvironment:i.defaultHost)+"/i/"+i.endpoint+"/"+encodeURIComponent(i.name),onLoadStart:m,onError:b,onLoad:h,alt:""}),r.a.createElement("div",{className:o.statusIcons},p?r.a.createElement(kt.a,null):!(!s&&v)&&r.a.createElement(Et.a,{fontSize:"large"})),r.a.createElement(y.a,{variant:"populated-slot"},r.a.createElement(g,{variant:"dark",onClick:a},y.c))))})),jt=function(){function e(e,t,n,a){void 0===a&&(a={}),this.node=e,this.view=t,this.getPos=n,this.options=a,this.dom=document.createElement("div"),this.handleDelete=this.handleDelete.bind(this),this.render()}return e.prototype.handleDelete=function(){var e=this.getPos(),t=this.view.state.tr.delete(e,e+this.node.nodeSize);this.view.dispatch(t)},e.prototype.render=function(){l.a.render(Object(y.i)(r.a.createElement(wt,{options:this.options,node:this.node,onDelete:this.handleDelete})),this.dom)},e}();var St=Object(S.a)({root:{"&$broken, &$invalid":{background:"#e5e5e5"},boxShadow:"0 1px 5px 0 rgba(23,32,44,.2), 0 2px 2px 0 rgba(23,32,44,.1), 0 3px 1px -2px rgba(23,32,44,.1)"},invalid:{},content:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"50%"},statusIcons:{top:0,left:0,right:0,bottom:0,display:"flex",position:"absolute",alignItems:"center",alignContent:"center",flexDirection:"row",justifyContent:"center"}})((function(e){var t,n=e.node,a=e.onDelete,o=e.classes,l=e.options,i=n.attrs.value,c=i&&i.id&&i.contentType,s=l.tools&&l.tools["dc-content-link"]?l.tools["dc-content-link"]:void 0,u=s&&s.contentTypeSettings&&c?Object(y.h)(s.contentTypeSettings,i.contentType):void 0,d=s&&s.contentTypeSettings&&c?Object(y.g)(s.contentTypeSettings,i.contentType):void 0,p=s&&s.contentTypeSettings&&s.contentTypeSettings.aspectRatios&&c?function(e,t){for(var n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];if("*"===r||r===t)return e[r]}}(s.contentTypeSettings.aspectRatios,i.contentType):void 0,f=y.e;return r.a.createElement("div",{className:Object(T.a)(o.root,(t={},t[o.invalid]=!c,t))},r.a.createElement(gt,{variant:"populated-slot",aspectRatio:p||"3:1"},r.a.createElement("div",{className:Object(T.a)(o.content),style:{backgroundImage:"url("+(u||y.b)+")"}},!!(d&&l&&l.dynamicContent&&l.dynamicContent.stagingEnvironment)&&r.a.createElement(y.f,{template:d,params:{contentItemId:i.id,stagingEnvironment:l.dynamicContent.stagingEnvironment}})),r.a.createElement(y.a,{variant:"populated-slot"},r.a.createElement(f,{variant:"dark",onClick:a},y.c))))}));var Ct=function(){function e(e,t,n,a){void 0===a&&(a={}),this.node=e,this.view=t,this.getPos=n,this.options=a,this.dom=document.createElement("div"),this.handleDelete=this.handleDelete.bind(this),this.render()}return e.prototype.handleDelete=function(){var e=this.getPos(),t=this.view.state.tr.delete(e,e+this.node.nodeSize);this.view.dispatch(t)},e.prototype.render=function(){l.a.render(Object(y.i)(r.a.createElement(St,{options:this.options,node:this.node,onDelete:this.handleDelete})),this.dom)},e}(),xt=n(121),Nt=n.n(xt),Pt=n(120),Dt=n.n(Pt),It=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(l,i)}c((a=a.apply(e,t||[])).next())}))},_t=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};function Mt(e,t){var n=[];return de("dc-image-link",t)&&e.nodes["dc-image-link"]&&n.push(function(e,t){var n=this,a=e.nodes["dc-image-link"];return{name:"dc-image-link",label:"Insert Image",displayIcon:r.a.createElement(Dt.a,null),isEnabled:function(e){return!L(e)},apply:function(e,r,o){return It(n,void 0,void 0,(function(){var e;return _t(this,(function(n){switch(n.label){case 0:if(!t)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t()];case 2:return e=n.sent(),o.dispatch(o.state.tr.replaceSelectionWith(a.createAndFill({value:e}))),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))}}}(e,t.dialogs?t.dialogs.getDcImageLink:void 0)),de("dc-content-link",t)&&e.nodes["dc-content-link"]&&t.tools&&t.tools["dc-content-link"]&&t.tools["dc-content-link"].contentTypes&&t.tools["dc-content-link"].contentTypes&&n.push(function(e,t,n){var a=this,o=e.nodes["dc-content-link"];return{name:"dc-content-link",label:"Insert Content",displayIcon:r.a.createElement(Nt.a,null),isEnabled:function(e){return!L(e)},apply:function(e,r,l){return It(a,void 0,void 0,(function(){var e;return _t(this,(function(a){switch(a.label){case 0:if(!n)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n(t)];case 2:return e=a.sent(),l.dispatch(l.state.tr.replaceSelectionWith(o.createAndFill({value:e}))),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}}))}))}}}(e,t.tools["dc-content-link"].contentTypes,t.dialogs?t.dialogs.getDcContentLink:void 0)),n}n(42),n(24).Node;var Tt=function(){function e(){}return e.prototype.canSerialize=function(e,t){return"dc-content-link"===t.type},e.prototype.serialize=function(e,t){return t.map((function(e){return{type:"dc-content-link",data:e.attrs.value}}))},e.prototype.canParse=function(e,t){return"dc-content-link"===t.type},e.prototype.parse=function(e,t){var n=[];return t.forEach((function(e){n.push({type:"dc-content-link",attrs:{value:e.data}})})),n},e}(),zt=(n(42),n(24).Node,function(){function e(){}return e.prototype.canSerialize=function(e,t){return"dc-image-link"===t.type},e.prototype.serialize=function(e,t){return t.map((function(e){return{type:"dc-image-link",data:e.attrs.value}}))},e.prototype.canParse=function(e,t){return"dc-image-link"===t.type},e.prototype.parse=function(e,t){var n=[];return t.forEach((function(e){n.push({type:"dc-image-link",attrs:{value:e.data}})})),n},e}()),Vt=n(42),Lt=n(24).Node,At=function(){function e(){}return e.prototype.canSerialize=function(e,t){return!!t.type&&null!=Vt.defaultMarkdownSerializer.nodes[t.type]},e.prototype.serialize=function(e,t){var n=Lt.fromJSON(e,{type:"doc",content:t});return[{type:"markdown",data:Vt.defaultMarkdownSerializer.serialize(n)}]},e.prototype.canParse=function(e,t){return"markdown"===t.type},e.prototype.parse=function(e,t){var n=[];return t.forEach((function(e){var t=Vt.defaultMarkdownParser.parse(e.data||"").toJSON();n=n.concat.apply(n,t.content||[])})),n},e}(),Wt=n(24).Schema;var Jt=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],l=0,i=o.length;l<i;l++,r++)a[r]=o[l];return a},Ht=n(24).Node,Rt=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=[new At,new zt,new Tt]),this.blockTypes=t,this.name="json",this.label="JSON";var n=function(){var e=Je();return new Wt({nodes:e.spec.nodes.addBefore("image","dc-image-link",{content:"block",group:"block",defining:!0,attrs:{value:{}},nodeSize:1,draggable:!0,atom:!0,parseDOM:[{tag:"dc-image-link[data-dc-image-link]",getAttrs:function(e){return{value:JSON.parse(e.getAttribute("data-dc-image-link"))}}}],toDOM:function(e){var t=e.attrs.value;return["dc-image-link",{"data-dc-image-link":JSON.stringify(t)}]}}).addBefore("image","dc-content-link",{content:"block",group:"block",defining:!0,attrs:{value:{}},nodeSize:1,draggable:!0,atom:!0,parseDOM:[{tag:"dc-content-link[data-dc-content-link]",getAttrs:function(e){return{value:JSON.parse(e.getAttribute("data-dc-content-link"))}}}],toDOM:function(e){var t=e.attrs.value;return["dc-content-link",{"data-dc-content-link":JSON.stringify(t)}]}}),marks:e.spec.marks})}(),a=Jt(Ce(n,e),Mt(n,e));this.schema=n,this.tools=a}return e.prototype.serialize=function(e){var t=this;if(!e)return[];if(!(e=e.toJSON()).content||0===e.content.length)return[];for(var n=Bt(e.content,(function(e){for(var n=0,a=t.blockTypes;n<a.length;n++){var r=a[n];if(r.canSerialize(t.schema,e))return r}})),a=[],r=0,o=n;r<o.length;r++){var l=o[r],i=l.group.serialize(this.schema,l.items);a=a.concat.apply(a,i)}return a},e.prototype.parse=function(e){var t=this;if(!e||0===e.length)return Ht.fromJSON(this.schema,{type:"doc",content:[{type:"paragraph"}]});for(var n={type:"doc",content:[]},a=Bt(e,(function(e){for(var n=0,a=t.blockTypes;n<a.length;n++){var r=a[n];if(r.canParse(t.schema,e))return r}})),r=0,o=a;r<o.length;r++){var l=o[r],i=l.group.parse(this.schema,l.items);n.content=n.content.concat.apply(n.content,i)}return Ht.fromJSON(this.schema,n)},e}();function Bt(e,t){for(var n=[],a=null,r=[],o=0,l=e;o<l.length;o++){var i=l[o],c=t(i);void 0!==c&&(null===a?(a=c,r=[i]):a===c?r.push(i):(r.length>0&&n.push({group:a,items:r}),a=c,r=[i]))}return r.length>0&&null!==a&&n.push({group:a,items:r}),n}var $t={format:z.JSON};function Ft(e){var t=e.children,n=e.value,a=e.index,o=Object(k.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==a,id:"tabpanel-".concat(a),"aria-labelledby":"tab-".concat(a)},o),n===a&&r.a.createElement(O.a,{p:3},r.a.createElement(E.a,null,t)))}var qt=Object(S.a)({root:{width:"100%"}})((function(e){var t=e.schema,n=e.value,a=e.locales,o=e.onChange,l=e.classes,i=r.a.useState(0),c=Object(g.a)(i,2),s=c[0],u=c[1],d=t&&t["ui:extension"]&&t["ui:extension"].params?t["ui:extension"].params:{},p=r.a.useContext(y.d).sdk,f=r.a.useContext(mt).dialogs,m=r.a.useMemo((function(){var e={dialogs:f,dynamicContent:{stagingEnvironment:p?p.stagingEnvironment:void 0},tools:d.tools};return e.tools&&!e.tools.blacklist&&(e.tools.blacklist=["inline_styles"]),e}),[p,f,d]),b=r.a.useMemo((function(){return{markdown:Be(m),json:(e=m,{language:new Rt(e),conf:$t})};var e}),[]),h=(d.language,r.a.useMemo((function(){return{nodeViews:{"dc-image-link":function(e,t,n){return new jt(e,t,n,m)},"dc-content-link":function(e,t,n){return new Ct(e,t,n,m)}}}}),[p,m]));return r.a.createElement("div",{className:l.root},!!d.styles&&r.a.createElement("style",{dangerouslySetInnerHTML:{__html:d.styles}}),!!d.stylesheet&&r.a.createElement("link",{rel:"stylesheet",href:d.stylesheet}),r.a.createElement(w.a,{value:s,onChange:function(e,t){u(t)},indicatorColor:"primary","aria-label":"tabs"},a.available?a.available.map((function(e){return r.a.createElement(j.a,{key:e,label:e.country})})):null),a.default?a.default.map((function(e,t){return r.a.createElement(Ft,{key:e,value:s,index:t},r.a.createElement(ht,{key:e,languages:b,language:d.language,editorViewOptions:h,toolbarLayout:d.toolbar?d.toolbar.layout:void 0,disableToolbar:d.toolbar?d.toolbar.disabled:void 0,disableCodeView:d.codeView?d.codeView.disabled:void 0,readOnlyCodeView:d.codeView?d.codeView.readOnly:void 0,locale:e,onChange:o,value:n.values?n.values.find((function(t){return t.locale===e})).value:""}))})):null)}));function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Gt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).state={connected:!1},n.handleValueChange=n.handleValueChange.bind(Object(b.a)(n)),n.handleChooseLink=n.handleChooseLink.bind(Object(b.a)(n)),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.handleConnect()}},{key:"handleConnect",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)();case 2:return(t=e.sent).frame.startAutoResizer(),e.next=6,t.field.getValue();case 6:n=e.sent,this.setState({sdk:t,connected:!0,value:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleValueChange",value:function(e,t){var n=this;this.state.value&&this.setState((function(a){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.value);return r.values[n.state.sdk?n.state.sdk.locales.default.findIndex((function(t){return t===e})):0]={locale:e,value:t},{value:r}}),(function(){n.state.connected&&n.state.sdk&&n.state.sdk.field.setValue(n.state.value)}))}},{key:"handleChooseLink",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{href:"",title:""});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.connected,n=e.value,a=e.sdk;return r.a.createElement("div",{className:"App"},t&&a?r.a.createElement("div",null,Object(y.i)(r.a.createElement(y.d.Provider,{value:{sdk:a}},r.a.createElement(bt,null,r.a.createElement(qt,{onChange:this.handleValueChange,value:n,locales:a.locales,schema:a.field.schema}))))):r.a.createElement("div",null,"\xa0"))}}]),t}(r.a.Component);n(256);l.a.render(r.a.createElement(Gt,null),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.715548dd.chunk.js.map