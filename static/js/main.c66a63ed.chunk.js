(this["webpackJsonp@dc-rich-text-editor/extension"]=this["webpackJsonp@dc-rich-text-editor/extension"]||[]).push([[0],{105:function(e,t,n){"use strict";var a=n(106);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"canInsert")&&n.d(t,"canInsert",(function(){return a.canInsert})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"inBlock")&&n.d(t,"inBlock",(function(){return a.inBlock})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}));var r=n(107);n.o(r,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return r.RichLanguageFormat})),n.o(r,"canInsert")&&n.d(t,"canInsert",(function(){return r.canInsert})),n.o(r,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return r.createStandardTools})),n.o(r,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return r.getCustomClass})),n.o(r,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return r.getDefaultClass})),n.o(r,"inBlock")&&n.d(t,"inBlock",(function(){return r.inBlock})),n.o(r,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return r.isToolEnabled}));var o=n(108);n.d(t,"RichLanguageFormat",(function(){return o.a}))},106:function(e,t){},107:function(e,t){},108:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.TEXT="text",e.JSON="json"}(a||(a={}))},109:function(e,t,n){"use strict";var a=n(110);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"canInsert")&&n.d(t,"canInsert",(function(){return a.canInsert})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"inBlock")&&n.d(t,"inBlock",(function(){return a.inBlock})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}))},110:function(e,t){},111:function(e,t,n){"use strict";var a=n(112);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"canInsert")&&n.d(t,"canInsert",(function(){return a.canInsert})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"inBlock")&&n.d(t,"inBlock",(function(){return a.inBlock})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}));var r=n(113);n.o(r,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return r.RichLanguageFormat})),n.o(r,"canInsert")&&n.d(t,"canInsert",(function(){return r.canInsert})),n.o(r,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return r.createStandardTools})),n.o(r,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return r.getCustomClass})),n.o(r,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return r.getDefaultClass})),n.o(r,"inBlock")&&n.d(t,"inBlock",(function(){return r.inBlock})),n.o(r,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return r.isToolEnabled}));var o=n(114);n.d(t,"createStandardTools",(function(){return o.a}));var l=n(24);n.d(t,"getCustomClass",(function(){return l.a})),n.d(t,"getDefaultClass",(function(){return l.b})),n.d(t,"isToolEnabled",(function(){return l.c}))},112:function(e,t){},113:function(e,t){},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var a=n(0),r=n.n(a),o=n(39),l=n(140),i=n.n(l),c=n(98),s=n.n(c),u=n(132),d=n.n(u),f=n(141),p=n.n(f),m=n(136),h=n.n(m),b=n(133),g=n.n(b),v=n(137),y=n.n(v),k=n(138),E=n.n(k),C=n(139),O=n.n(C),w=n(135),j=n.n(w),S=n(134),_=n.n(S),x=n(131),T=n.n(x),I=n(130),N=n.n(I),D=n(24),A=function(){return(A=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},L=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},M=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},R=n(34),z=R.undo,B=R.redo,F=n(16),V=F.toggleMark,W=F.setBlockType,P=F.lift,$=n(43).wrapInList,H=n(177).findParentNode;function J(e,t,n,a){return{name:e,label:t,displayIcon:n,isActive:function(e){return Object(o.e)(e,a)},apply:V(a)}}function Z(e,t){var n=this;return function(a,r,l){return L(n,void 0,void 0,(function(){var n,i,c,s,u,d;return M(this,(function(f){switch(f.label){case 0:if(n=Object(o.c)(a).filter((function(t){return t.mark.type===e})),i=1===n.length?n[0].mark.attrs:void 0,!t)return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,t(i)];case 2:return(c=f.sent()).cancel||(s={href:c.href,title:""===c.title?void 0:c.title},n.length>0?(u=a.tr,d=a.selection,""!==s.href&&(n.length<2&&!(d.from<n[0].from||d.to>n[0].to)?r(u.addMark(n[0].from,n[0].to,e.create(s))):r(u.addMark(d.from,d.to,e.create(s))))):V(e,s)(a,r,l)),[2];case 3:return f.sent(),[3,4];case 4:return Object(o.e)(a,e)&&r(a.tr.removeMark(n[0].from,n[0].to,e)),[2]}}))}))}}function q(e,t){var n=this;return function(a,r,o){return L(n,void 0,void 0,(function(){var n,l;return M(this,(function(i){switch(i.label){case 0:if(n=U(a,e),!t)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t(n.params||"")];case 2:return l=i.sent(),[2,W(e,{params:l})(a,r,o)];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))}}function G(e,t){var n=this;return function(a,r,o){return L(n,void 0,void 0,(function(){var n;return M(this,(function(a){switch(a.label){case 0:if(!t)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t()];case 2:return n=a.sent(),o.dispatch(o.state.tr.replaceSelectionWith(e.createAndFill({src:n.src,title:""===n.title?void 0:n.title,alt:""===n.alt?void 0:n.alt}))),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}}))}))}}function U(e,t){if(null==e||"code_block"!==t.name)return{};var n=H((function(e){return e.attrs.params}))(e.selection);return null!=n?{params:n.node.attrs.params||""}:{params:""}}function X(e,t,n){return W(t,A(A({},n),function(e){if(null==e)return{};var t=H((function(e){return e.attrs.align}))(e.selection);return null!=t?{align:t.node.attrs.align}:{}}(e)))}function Q(e,t){return{name:"heading_"+t,label:"Heading "+t,displayLabel:r.a.createElement("h"+t,{style:{margin:0}},"Heading "+t),apply:function(n,a,r){return X(n,e.nodes.heading,{level:t})(n,a,r)},isEnabled:function(n){return X(n,e.nodes.heading,{level:t})(n)},isActive:function(n,a){return!X(n,e.nodes.heading,{level:t})(n,null,a)}}}function Y(e,t){var n=[];if(Object(D.c)("undo",t)&&n.push({name:"undo",label:"Undo",displayIcon:r.a.createElement(N.a,null),isEnabled:function(e){return z(e)},apply:z}),Object(D.c)("redo",t)&&n.push({name:"redo",label:"Redo",displayIcon:r.a.createElement(T.a,null),isEnabled:function(e){return B(e)},apply:B}),Object(D.c)("strong",t)&&e.marks.strong&&n.push(function(e){return J("strong","Bold",r.a.createElement(d.a,null),e.marks.strong)}(e)),Object(D.c)("em",t)&&e.marks.em&&n.push(function(e){return J("em","Italic",r.a.createElement(g.a,null),e.marks.em)}(e)),Object(D.c)("code",t)&&e.marks.code&&n.push(function(e){return J("code","Code",r.a.createElement(s.a,null),e.marks.code)}(e)),Object(D.c)("link",t)&&e.marks.link&&n.push(function(e,t){return{name:"link",label:"Add or remove Link",displayIcon:r.a.createElement(_.a,null),isActive:function(t){return Object(o.e)(t,e.marks.link)},isEnabled:function(t){return!t.selection.empty||Object(o.c)(t).filter((function(t){return t.mark.type===e.marks.link})).length>0},apply:Z(e.marks.link,t)}}(e,t.dialogs?t.dialogs.getHyperlink:void 0)),Object(D.c)("lift",t)&&n.push({name:"lift",label:"Decrease Indentation",displayIcon:r.a.createElement(h.a,null),isVisible:function(e){return P(e)},apply:P}),Object(D.c)("bullet_list",t)&&e.nodes.bullet_list&&n.push(function(e){return{name:"bullet_list",label:"Bullet List",displayIcon:r.a.createElement(y.a,null),isEnabled:function(t){return $(e.nodes.bullet_list,{})(t)},apply:$(e.nodes.bullet_list,{})}}(e)),Object(D.c)("ordered_list",t)&&e.nodes.ordered_list&&n.push(function(e){return{name:"ordered_list",label:"Ordered List",displayIcon:r.a.createElement(E.a,null),isEnabled:function(t){return $(e.nodes.ordered_list,{})(t)},apply:$(e.nodes.ordered_list,{})}}(e)),Object(D.c)("image",t)&&e.nodes.image&&n.push(function(e,t){return{name:"image",label:"Insert Image from URL",displayIcon:r.a.createElement(j.a,null),apply:G(e.nodes.image,t)}}(e,t.dialogs?t.dialogs.getImage:void 0)),Object(D.c)("blockquote",t)&&e.nodes.blockquote&&n.push(function(e){return{name:"blockquote",label:"Quote",displayIcon:r.a.createElement(O.a,null),isEnabled:function(t){return $(e.nodes.blockquote,{})(t)},apply:$(e.nodes.blockquote,{})}}(e)),Object(D.c)("heading",t)&&e.nodes.heading)for(var a=1;a<7;a++)n.push(Q(e,a));return Object(D.c)("paragraph",t)&&e.nodes.paragraph&&n.push(function(e){return W(e.nodes.paragraph),{name:"paragraph",label:"Normal text",displayLabel:r.a.createElement("p",{style:{margin:0,padding:0,display:"inline"}},"Normal text"),apply:function(t,n,a){return X(t,e.nodes.paragraph)(t,n,a)},isEnabled:function(t){return X(t,e.nodes.paragraph)(t)},isActive:function(t,n){return!X(t,e.nodes.paragraph)(t,null,n)}}}(e)),Object(D.c)("code_block",t)&&e.nodes.code_block&&n.push(function(e,t){return{name:"code_block",label:"Code Block",displayLabel:r.a.createElement("code",null,"Code Block"),displayIcon:r.a.createElement(s.a,null),apply:q(e.nodes.code_block,t),isActive:function(t,n){var a=U(t,e.nodes.code_block);return!W(e.nodes.code_block,A({},a))(t,null,n)}}}(e,t.dialogs?t.dialogs.getCode:void 0)),Object(D.c)("horizontal_rule",t)&&e.nodes.horizontal_rule&&n.push(function(e){return{name:"horizontal_rule",label:"Insert Horizontal Rule",displayIcon:r.a.createElement(i.a,null),apply:function(t,n){n(t.tr.replaceSelectionWith(e.nodes.horizontal_rule.create()))},isEnabled:function(t){return Object(o.a)(t,e.nodes.horizontal_rule)}}}(e)),Object(D.c)("clear_formatting",t)&&n.push({name:"clear_formatting",label:"Clear Formatting",displayIcon:r.a.createElement(p.a,null),apply:Object(o.b)(),isEnabled:function(e){return!0}}),n}},123:function(e,t){},147:function(e,t,n){"use strict";var a=n(76),r=n(75);n(74),n(123),n(72),n(73);t.default=function(e){return{language:new a.a(e),conf:r.a}}},166:function(e,t,n){e.exports=n(236)},176:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),l=n.n(o),i=(n(171),n(28)),c=n(70),s=n.n(c),u=n(97),d=n(77),f=n(78),p=n(66),m=n(89),h=n(88),b=n(124),g=n(20),v=n(18),y=n(153),k=n(300),E=n(240),C=n(301),O=n(298),w=n(6),j=Object(w.a)({root:{flex:1,display:"flex",minHeight:286,maxHeight:500},textarea:{flex:1,outline:"none",resize:"none",backgroundColor:"#f0f0f0",border:"1px solid rgba(157,162,162,.3)",padding:"10px 8px 0",fontFamily:"roboto,monospace!important",fontSize:13}})((function(e){var t=e.classes,n=e.value,a=e.onChange,o=e.readOnly,l=void 0!==o&&o,i=r.a.useCallback((function(e){a&&a(e.target.value)}),[a]);return r.a.createElement("div",{className:t.root},r.a.createElement("textarea",{readOnly:l,className:t.textarea,value:n,onChange:i}))})),S=n(152),_=(n(176),n(5).EditorState),x=n(42).EditorView,T=n(237).exampleSetup,I=n(41),N=I.tableEditing,D=I.columnResizing,A=n(46).keymap,L=n(43).sinkListItem;function M(e){return{Tab:L(e.nodes.list_item)}}var R,z=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(d.a)(this,n),a=t.call(this,e);var o=r.a.createRef();return a.state={ref:o},a}return Object(f.a)(n,[{key:"createEditorState",value:function(){var e=this.props,t=e.schema,n=e.doc,a=null!=t.nodes.table?[D(),N()]:[];return _.create({schema:t,doc:n,plugins:[].concat(a,[A(M(t))],Object(S.a)(T({schema:t,menuBar:!1})))})}},{key:"createEditorView",value:function(e){var t=this,n=this.props,a=n.onUpdateState,r=n.onChange,o=this.createEditorState(),l=new x(e,Object(i.a)({},this.props.editorViewOptions,{state:o,dispatchTransaction:function(e){var n=l.state.applyTransaction(e),o=n.state,i=n.transactions;l.updateState(o),a&&a(o,l),i.some((function(e){return e.docChanged}))&&r&&r(o.doc),t.forceUpdate()}}));return a&&a(l.state,l),l}},{key:"componentDidMount",value:function(){if(this.state.ref&&!this.state.editorView){var e=this.createEditorView(this.state.ref.current);this.setState({editorView:e})}}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root,ref:this.state.ref})}}]),n}(r.a.Component),B=Object(w.a)({root:{width:"100%",minHeight:250,maxHeight:600,overflowY:"scroll"}})(z),F=n(29),V=n(2);!function(e){e.EDIT="edit",e.CODE="code"}(R||(R={}));var W=Object(w.a)({root:{display:"flex"},button:{outline:"none",transition:"color 0.2s linear,border-bottom-color 0.2s linear",height:40,cursor:"pointer",background:"transparent",border:"0 solid transparent",borderTop:"3px solid transparent",borderBottom:"3px solid transparent",fontSize:13,padding:"0 15px",color:"#999999",fontWeight:"bold"},selected:{color:"#1EA7FD",borderBottomColor:"#1EA7FD"}})((function(e){var t=e.classes,n=e.onChange,a=e.language,o=e.disableCodeView,l=e.disableEditView,i=r.a.useState(l?R.CODE:R.EDIT),c=Object(v.a)(i,2),s=c[0],u=c[1],d=r.a.useCallback((function(e){u(e),n&&n(e)}),[u]),f=r.a.useCallback((function(e,n){return r.a.createElement("button",{onClick:function(){return d(n)},className:Object(V.a)(t.button,Object(F.a)({},t.selected,s===n)),type:"button",role:"tab"},e)}),[s,d]);return r.a.createElement("div",{className:t.root},!l&&f("Edit",R.EDIT),!o&&f(a||"Code",R.CODE))})),P=n(8),$=n(36),H=n(292),J=r.a.createContext({}),Z=n(291),q=Object(w.a)({root:{margin:"1px"}})((function(e){var t=e.toolName,n=e.classes,a=r.a.useContext(J),o=a.getToolState,l=a.applyTool,i=o?o(t):null,c=r.a.useCallback((function(e){var n=document.activeElement;l&&l(t),null!=n&&setTimeout((function(){return n.focus()}),0)}),[t,l]);return i&&i.visible?r.a.createElement(Z.a,{className:Object(V.a)(n.root),onMouseDown:c,size:"small",disabled:!i.enabled,color:i.active?"primary":"default",title:i.label},i.displayIcon?i.displayIcon:i.label):null})),G=n(245),U=n(304),X=Object(w.a)({value:{fontSize:14,paddingLeft:6,paddingRight:6,fontWeight:"unset"}})((function(e){var t,n=e.toolNames,a=e.classes,o=e.label,l=r.a.useContext(J),i=l.getToolState,c=l.applyTool,s=n.map((function(e){return i?i(e):null})).filter((function(e){return null!=e})),u=s.filter((function(e){return e.active})),d=(t=u&&u.length>1?u.find((function(e){return/inline_styles/.test(e.name)}))||u[0]:u.find((function(e){return e.active})))?t.name:"",f=r.a.useCallback((function(e){c&&c(e.target.value)}),[c]),p=r.a.useCallback((function(e){if(!e)return o||"";var t=i?i(e):void 0;return t||(t={label:e}),t.displayLabel?r.a.cloneElement(t.displayLabel,{className:a.value}):t.label}),[i]);return 0===s.length?null:r.a.createElement(G.a,{value:d,onChange:f,renderValue:p,displayEmpty:!0,onMouseDown:function(e){return e.preventDefault()}},s.map((function(e){return r.a.createElement(U.a,{value:e.name,key:e.name,onMouseDown:function(e){return e.preventDefault()}},e.displayLabel?e.displayLabel:r.a.createElement("span",null,e.label))})))})),Q=Object(w.a)({root:{display:"flex",alignItems:"center"},divider:{verticalAlign:"top",display:"inline-flex",height:13,lineHeight:13,borderRight:"1px solid rgb(218, 220, 224)",margin:"9px 4px"},empty:{display:"none"}})((function(e){var t=e.children,n=e.classes;return r.a.createElement("div",{className:Object(V.a)(n.root,Object(F.a)({},n.empty,!t))},t,r.a.createElement("div",{className:n.divider}))})),Y=Object(w.a)({root:{minHeight:35,borderBottom:"1px solid rgb(218, 220, 224)"}})((function(e){var t=e.classes,n=e.layout,a=e.toolbarState,o=function e(t){switch(t.type){case"button":return r.a.createElement(q,{toolName:t.toolName});case"dropdown":return r.a.createElement(X,{toolNames:t.toolNames,label:t.label});case"group":return-1!==t.children.findIndex((function(e){return"button"!==e.type||function(e){var t=null==a?null:a.toolStates[e.toolName];return null==t||t.visible}(e)}))?r.a.createElement(Q,null,t.children.map((function(t){return e(t)}))):null;default:return null}};return r.a.createElement(J.Provider,{value:{applyTool:function(e){if(a){var t=a.tools.find((function(t){return t.name===e})),n=Object.keys(a.toolStates).filter((function(e){return/inline_styles/.test(e)&&a.toolStates[e].active}));if(t){if(n&&n.length){var r=a.tools.find((function(e){return"clear_formatting"===e.name}));r&&r.apply(a.editorView.state,a.editorView.dispatch,a.editorView)}t.apply(a.editorView.state,a.editorView.dispatch,a.editorView)}}},getToolState:function(e){if(a)return a.toolStates[e]}}},r.a.createElement(H.a,{className:t.root,disableGutters:!0},n.map((function(e){return o(e)}))))})),K=[{type:"group",children:[{type:"button",toolName:"undo"},{type:"button",toolName:"redo"}]},{type:"dropdown",label:"Styles",toolNames:["paragraph","heading_1","heading_2","heading_3","heading_4","heading_5","heading_6","code_block"]},{type:"group",children:[{type:"button",toolName:"strong"},{type:"button",toolName:"em"},{type:"button",toolName:"soft_hyphen"},{type:"button",toolName:"link"},{type:"button",toolName:"anchor"}]},{type:"group",children:[{type:"button",toolName:"align_left"},{type:"button",toolName:"align_center"},{type:"button",toolName:"align_right"},{type:"button",toolName:"align_justify"}]},{type:"group",children:[{type:"button",toolName:"lift"},{type:"button",toolName:"bullet_list"},{type:"button",toolName:"ordered_list"}]},{type:"group",children:[{type:"button",toolName:"dc-image-link"},{type:"button",toolName:"image"},{type:"button",toolName:"dc-content-link"},{type:"button",toolName:"blockquote"},{type:"button",toolName:"code_block"},{type:"button",toolName:"horizontal_rule"},{type:"button",toolName:"table_create"}]},{type:"group",children:[{type:"button",toolName:"table_row_add"},{type:"button",toolName:"table_row_delete"},{type:"button",toolName:"table_col_add"},{type:"button",toolName:"table_col_delete"},{type:"button",toolName:"table_delete"},{type:"button",toolName:"clear_formatting"}]}],ee=n(146);var te=n(303),ne=n(293),ae=n(294),re=n(241),oe=n(281),le=n(244),ie=n(295),ce=n(296),se=/^[a-zA-Z][\w:.\-]*$/;var ue=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=e.value?e.value.existing:new Set,l=r.a.useState({value:""}),c=Object(v.a)(l,2),s=c[0],u=c[1],d=r.a.useState(),f=Object(v.a)(d,2),p=f[0],m=f[1];null!=e.value&&null!=e.value.value&&p!==e.value.value&&(u(e.value.value),m(e.value.value));var h=function(e){return function(e,t){return null==e||0===e.length?"ID cannot be empty.":se.test(e)?t.has(e)?"ID is already in use.":void 0:"Invalid ID."}(e,o)},b=h(s.value),g=r.a.useState(b),y=Object(v.a)(g,2),k=y[0],E=y[1];b!==k&&E(b);var C=r.a.useCallback((function(e,t){var n=Object(i.a)({},s,Object(F.a)({},e,t));u(n);var a=h(n.value);E(a)}),[s,u,E]),O=function(){u({value:""})},w=r.a.useCallback((function(){O(),n()}),[u,n]),j=r.a.useCallback((function(){O(),a(s)}),[s,u,a]);return r.a.createElement(te.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Anchor"),r.a.createElement(ae.a,null,r.a.createElement(re.a,{fullWidth:!0},r.a.createElement(oe.a,{error:void 0!==k,autoFocus:!0,id:"value",label:"Anchor ID",type:"input",required:!0,fullWidth:!0,value:s.value,onChange:function(e){return C("value",e.target.value)},helperText:k}),r.a.createElement(le.a,null,"Example: paragraph-4"))),r.a.createElement(ie.a,null,r.a.createElement(ce.a,{onClick:w,color:"primary"},"Cancel"),r.a.createElement(ce.a,{disabled:void 0!==k,onClick:j,color:"primary"},"Confirm")))},de=/^[a-zA-Z]?[\w:.\-\/]*$/,fe=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=r.a.useState(""),l=Object(v.a)(o,2),i=l[0],c=l[1],s=r.a.useState(""),u=Object(v.a)(s,2),d=u[0],f=u[1],p=r.a.useState(),m=Object(v.a)(p,2),h=m[0],b=m[1];h!==e.value&&(c(e.value||""),b(e.value));var g=r.a.useCallback((function(e){c(e||"");var t,n=(t=e,de.test(t)?"":"Value contains invalid characters");f(n)}),[i,c,f]),y=function(){c("")},k=r.a.useCallback((function(){y(),n()}),[c,n]),E=r.a.useCallback((function(){y(),a(i)}),[i,c,a]);return r.a.createElement(te.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Code block"),r.a.createElement(ae.a,null,r.a.createElement(re.a,{fullWidth:!0},r.a.createElement(oe.a,{error:!!d,helperText:d,autoFocus:!0,id:"href",label:"Language",type:"input",fullWidth:!0,value:i,onChange:function(e){return g(e.target.value||"")}}),r.a.createElement(le.a,null,"The language to use for syntax highlighting, e.g. javascript or html"))),r.a.createElement(ie.a,null,r.a.createElement(ce.a,{onClick:k,color:"primary"},"Cancel"),r.a.createElement(ce.a,{disabled:!!d,onClick:E,color:"primary"},"Confirm")))};var pe=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=r.a.useState({href:"",title:""}),l=Object(v.a)(o,2),c=l[0],s=l[1],u=r.a.useState(),d=Object(v.a)(u,2),f=d[0],p=d[1];null!=e.value&&f!==e.value&&(s(e.value),p(e.value));var m=r.a.useState(!1),h=Object(v.a)(m,2),b=h[0],g=h[1],y=r.a.useCallback((function(e,t){var n=Object(i.a)({},c,Object(F.a)({},e,t));s(n),g(function(e){return null!=e&&e.length>0}(n.href))}),[c,s,g]),k=function(){s({href:"",title:""}),p(void 0)},E=r.a.useCallback((function(){k(),void 0===f?n():a(Object(i.a)({},f,{cancel:!0}))}),[f,p,a]),C=r.a.useCallback((function(){k(),n()}),[s,n]),O=r.a.useCallback((function(){k(),a(c)}),[c,s,a]);return r.a.createElement(te.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:E,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Hyperlink"),r.a.createElement(ae.a,null,r.a.createElement(re.a,{fullWidth:!0},r.a.createElement(oe.a,{autoFocus:!0,id:"href",label:"Web Address",type:"input",required:!0,fullWidth:!0,value:c.href,onChange:function(e){return y("href",e.target.value)}}),r.a.createElement(le.a,null,"Example: https://www.storefront.com/black-friday")),r.a.createElement(re.a,{fullWidth:!0},r.a.createElement(oe.a,{id:"title",label:"Title",type:"input",fullWidth:!0,value:c.title,onChange:function(e){return y("title",e.target.value)}}),r.a.createElement(le.a,null,"Example: Black Friday Sale"))),r.a.createElement(ie.a,null,r.a.createElement(ce.a,{onClick:C,color:"primary"},"Clear"),r.a.createElement(ce.a,{disabled:!b,onClick:O,color:"primary"},"Confirm")))};var me=function(e){var t=e.open,n=e.onClose,a=e.onSubmit,o=r.a.useState({src:"",alt:"",title:""}),l=Object(v.a)(o,2),c=l[0],s=l[1],u=r.a.useState(!1),d=Object(v.a)(u,2),f=d[0],p=d[1],m=r.a.useCallback((function(e,t){var n=Object(i.a)({},c,Object(F.a)({},e,t));s(n),p(function(e){return null!=e&&e.length>0}(n.src))}),[c,s,p]),h=function(){s({src:"",alt:"",title:""})},b=r.a.useCallback((function(){h(),n()}),[s,n]),g=r.a.useCallback((function(){h(),a(c)}),[c,s,a]);return r.a.createElement(te.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(ne.a,{id:"form-dialog-title"},"Insert Image from URL"),r.a.createElement(ae.a,null,r.a.createElement(re.a,{fullWidth:!0},r.a.createElement(oe.a,{autoFocus:!0,id:"src",label:"Image Address",type:"input",required:!0,fullWidth:!0,value:c.src,onChange:function(e){return m("src",e.target.value)}}),r.a.createElement(le.a,null,"Example: https://cdn.storefront.com/image.jpg")),r.a.createElement(re.a,{fullWidth:!0},r.a.createElement(oe.a,{id:"title",label:"Image Title",type:"input",fullWidth:!0,value:c.title,onChange:function(e){return m("title",e.target.value)}}),r.a.createElement(le.a,null,"Example: Black Friday Sale")),r.a.createElement(re.a,{fullWidth:!0},r.a.createElement(oe.a,{id:"alt",label:"Image Alternative Text",type:"input",fullWidth:!0,value:c.alt,onChange:function(e){return m("alt",e.target.value)}}),r.a.createElement(le.a,null,"Example: Black Friday Sale"))),r.a.createElement(ie.a,null,r.a.createElement(ce.a,{onClick:b,color:"primary"},"Cancel"),r.a.createElement(ce.a,{disabled:!f,onClick:g,color:"primary"},"Insert")))},he=r.a.createContext({}),be=function(e){var t=e.children,n=r.a.useState(),a=Object(v.a)(n,2),o=a[0],l=a[1],i=r.a.useCallback((function(){o&&o.reject(),l(void 0)}),[o,l]),c=r.a.useCallback((function(e){o&&o.resolve(e),l(void 0)}),[o,l]),s=r.a.useCallback((function(e,t){return new Promise((function(n,a){l({type:e,resolve:n,reject:a,value:t})}))}),[l]),u=r.a.useContext(g.d).sdk,d={getAnchor:function(e,t){return s("anchor",{value:t,existing:e})},getCode:function(e){return s("code",e)},getHyperlink:function(e){return s("hyperlink",e)},getImage:function(e){return s("image")},getDcImageLink:function(e){return u?u.mediaLink.getImage():Promise.reject()},getDcContentLink:function(e,t){return u?u.contentLink.get(e):Promise.reject()}};return r.a.createElement(he.Provider,{value:{dialogs:d}},t,r.a.createElement(ue,{value:null!=o?o.value:void 0,open:null!=o&&"anchor"===o.type,onClose:i,onSubmit:c}),r.a.createElement(fe,{value:null!=o?o.value:void 0,open:null!=o&&"code"===o.type,onClose:i,onSubmit:c}),r.a.createElement(pe,{value:null!=o?o.value:void 0,open:null!=o&&"hyperlink"===o.type,onClose:i,onSubmit:c}),r.a.createElement(me,{open:null!=o&&"image"===o.type,onClose:i,onSubmit:c}))},ge=Object(w.a)({root:{width:"100%",height:"100%",display:"flex"},frame:{flex:1,display:"flex",flexDirection:"column",border:"1px solid rgba(157,162,162,.3)",borderRadius:5,padding:"0 10px 10px 10px"}})((function(e){var t=e.classes,n=e.languages,a=e.language,o=void 0===a?"markdown":a,l=e.toolbarLayout,c=e.disableToolbar,s=void 0!==c&&c,u=e.disableCodeView,d=void 0!==u&&u,f=e.readOnlyCodeView,p=void 0!==f&&f,m=e.editorViewOptions,h=e.value,b=e.locale,g=e.onChange,y=r.a.useContext(he).dialogs,k=n||{markdown:Object($.c)({dialogs:y})};if(!k[o])throw new Error("Unable to find language ".concat(e.language));var E=k[o],C=E.language,O=E.conf,w=r.a.useState(R.EDIT),S=Object(v.a)(w,2),_=S[0],x=S[1],T=r.a.useState((function(){if(h&&b)return O.format===P.RichLanguageFormat.JSON?JSON.stringify(h,null,3):h})),I=Object(v.a)(T,2),N=I[0],D=I[1],A=r.a.useState((function(){if(h)try{return C.parse(h)}catch(e){}})),L=Object(v.a)(A,2),M=L[0],z=L[1],F=r.a.useCallback((function(e){if(D(e),O.format===P.RichLanguageFormat.JSON)try{e=JSON.parse(e)}catch(n){return}g&&g(b,e);try{var t=C.parse(e);z(t)}catch(n){}}),[O,D,z,g]),V=r.a.useCallback((function(e){z(e);try{var t=C.serialize(e);O.format===P.RichLanguageFormat.JSON?D(JSON.stringify(t,null,3)):D(t),g&&g(b,t)}catch(n){}}),[O,z,D]),H=r.a.useState(),J=Object(v.a)(H,2),Z=J[0],q=J[1],G=l||K,U=r.a.useCallback((function(e,t){q(function(e,t,n){var a,r={},o=Object(ee.a)(e);try{for(o.s();!(a=o.n()).done;){var l=a.value,c=Object(i.a)({active:!1,enabled:!0,visible:!0},l);l.isActive&&(c.active=l.isActive(t,n)),l.isVisible&&(c.visible=l.isVisible(t,n)),l.isEnabled&&(c.enabled=l.isEnabled(t,n)),r[l.name]=c}}catch(s){o.e(s)}finally{o.f()}return{tools:e,toolStates:r,editorView:n}}(C.tools,e,t))}),[C,q]);return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.frame},r.a.createElement(W,{onChange:x,language:C.label,disableCodeView:d}),_===R.EDIT?r.a.createElement("div",null,!s&&r.a.createElement(Y,{toolbarState:Z,layout:G}),r.a.createElement(B,{editorViewOptions:m,schema:C.schema,onChange:V,onUpdateState:U,doc:M})):r.a.createElement(j,{value:N,onChange:F,readOnly:p})))})),ve=n(147),ye=n(48);function ke(e){var t=e.children,n=e.value,a=e.index,o=Object(y.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==a,id:"tabpanel-".concat(a),"aria-labelledby":"tab-".concat(a)},o),n===a&&r.a.createElement(k.a,{p:3},r.a.createElement(E.a,null,t)))}var Ee=Object(w.a)({root:{width:"100%"},title:{padding:"7px 0",minHeight:"20px",color:"#666",fontSize:"13px",boxSizing:"border-box","-webkit-font-smoothing":"auto",fontFamily:"roboto,sans-serif!important"}})((function(e){var t=e.schema,n=e.value,a=e.locales,o=e.onChange,l=e.classes,i=r.a.useState(0),c=Object(v.a)(i,2),s=c[0],u=c[1],d=t&&t["ui:extension"]&&t["ui:extension"].params?t["ui:extension"].params:{},f=r.a.useContext(g.d).sdk,p=r.a.useContext(he).dialogs,m=r.a.useMemo((function(){var e={useClasses:d.useClasses,classOverride:d.classOverride,dialogs:p,dynamicContent:{stagingEnvironment:f?f.stagingEnvironment:void 0},tools:d.tools};return e.tools&&!e.tools.blacklist&&(e.tools.blacklist=["inline_styles"]),e}),[f,p,d]),h=r.a.useMemo((function(){return{markdown:Object($.c)(m),json:Object(ve.default)(m)}}),[]),b=(d.language,r.a.useMemo((function(){return{nodeViews:{"dc-image-link":function(e,t,n){return new ye.d(e,t,n,m)},"dc-content-link":function(e,t,n){return new ye.b(e,t,n,m)}}}}),[f,m]));return r.a.createElement("div",{className:l.root},!!d.styles&&r.a.createElement("style",{dangerouslySetInnerHTML:{__html:d.styles}}),!!d.stylesheet&&r.a.createElement("link",{rel:"stylesheet",href:d.stylesheet}),!!d.title&&r.a.createElement("div",{className:l.title},d.title),r.a.createElement(C.a,{value:s,onChange:function(e,t){u(t)},indicatorColor:"primary","aria-label":"tabs"},a.available?a.available.map((function(e){return r.a.createElement(O.a,{key:e,label:e.country})})):null),a.default?a.default.map((function(e,t){return r.a.createElement(ke,{key:e,value:s,index:t},r.a.createElement(ge,{key:e,languages:h,language:d.language,editorViewOptions:b,toolbarLayout:d.toolbar?d.toolbar.layout:void 0,disableToolbar:d.toolbar?d.toolbar.disabled:void 0,disableCodeView:d.codeView?d.codeView.disabled:void 0,readOnlyCodeView:d.codeView?d.codeView.readOnly:void 0,locale:e,onChange:o,value:n.values?n.values.find((function(t){return t.locale===e})).value:""}))})):null)})),Ce=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={connected:!1},a.handleValueChange=a.handleValueChange.bind(Object(p.a)(a)),a.handleChooseLink=a.handleChooseLink.bind(Object(p.a)(a)),a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.handleConnect()}},{key:"handleConnect",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)();case 2:return(t=e.sent).frame.startAutoResizer(),e.next=6,t.field.getValue();case 6:n=e.sent,this.setState({sdk:t,connected:!0,value:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleValueChange",value:function(e,t){var n=this;this.state.value&&this.setState((function(a){var r=Object(i.a)({},a.value);return r.values[n.state.sdk?n.state.sdk.locales.default.findIndex((function(t){return t===e})):0]={locale:e,value:t},{value:r}}),(function(){n.state.connected&&n.state.sdk&&n.state.sdk.field.setValue(n.state.value)}))}},{key:"handleChooseLink",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{href:"",title:""});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.connected,n=e.value,a=e.sdk;return r.a.createElement("div",{className:"App"},t&&a?r.a.createElement("div",null,Object(g.i)(r.a.createElement(g.d.Provider,{value:{sdk:a}},r.a.createElement(be,null,r.a.createElement(Ee,{onChange:this.handleValueChange,value:n,locales:a.locales,schema:a.field.schema}))))):r.a.createElement("div",null,"\xa0"))}}]),n}(r.a.Component);n(235);l.a.render(r.a.createElement(Ce,null),document.getElementById("root"))},24:function(e,t,n){"use strict";function a(e,t){return(!t.tools||!t.tools.blacklist||-1===t.tools.blacklist.indexOf(e))&&(!t.tools||!t.tools.whitelist||-1!==t.tools.whitelist.indexOf(e))}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var r=/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/;function o(e,t){if(t&&t.classOverride){var n=t.classOverride[e];return n&&r.test(n)?n:e}return e}function l(e,t){if(t&&t.classOverride){var n=t.classOverride;return Object.keys(n).find((function(t){return n[t]===e}))||e}return e}},36:function(e,t,n){"use strict";n.d(t,"b",(function(){return ee})),n.d(t,"d",(function(){return te})),n.d(t,"a",(function(){return he}));var a=n(8),r=n(282),o=n(283),l=n(284),i=n(285),c=n(0),s=n.n(c),u=function(){return(u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function d(e){var t=new Set,n=[];return e.doc.nodesBetween(e.selection.from,e.selection.to,(function(e,a,r,o){e.isTextblock&&!t.has(e)&&(n.push({node:e,pos:a,start:0,depth:0}),t.add(e))})),Array.from(n)}function f(e,t,n){var a=d(e),r=e.tr;return a.forEach((function(e){var t=e.node,a=e.pos;r=r.setNodeMarkup(a,t.type,u(u({},t.attrs),{align:n}))})),t&&t(r),!0}function p(e,t,n){var a=d(e),r=!1;return a.forEach((function(e){(a[0].node.attrs.align||"left")!==n&&(r=!0)})),0!==a.length&&!r}function m(e,t){return d(e).length>0}var h={group:"inline",inline:!0,attrs:{value:{}},parseDOM:[{tag:"a[id]",getAttrs:function(e){return{value:JSON.parse(e.getAttribute("id"))}}}],toDOM:function(e){var t=e.attrs.value;return["a",{id:JSON.stringify(t)},t]}},b=n(142),g=n.n(b),v=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},y=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};function k(e,t){var n=this;return function(a,r,o){return v(n,void 0,void 0,(function(){var n,r,l,i,c,s;return y(this,(function(u){switch(u.label){case 0:if(!t)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),n=new Set,r=function(e){"anchor"===e.type.name?n.add(e.attrs.value):e.forEach(r)},a.doc.forEach(r),l=a.selection,i=l.$from,c=l.$to,a.doc.nodesBetween(i.pos,c.pos,(function(e,t){"anchor"===e.type.name&&n.delete(e.attrs.value)})),[4,t(n)];case 2:return s=u.sent(),o.dispatch(o.state.tr.replaceSelectionWith(e.createAndFill({value:s.value}))),[3,4];case 3:return u.sent(),[3,4];case 4:return[2]}}))}))}}var E={anchor:function(e,t){var n={};t.attrs.value&&(n.id=t.attrs.value);var a=Object.keys(n).map((function(e){return e+'="'+n[e]+'"'})).join(" ");e.write("<a "+a+"></a>")}},C=function(){return(C=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},O={attrs:{class:{default:""},style:{default:""}},group:"inline",parseDOM:[{tag:"span",getAttrs:function(e){return{class:e.getAttribute("class"),style:e.attributes.style?e.attributes.style.value:void 0}}}],toDOM:function(e){return["span",C(C({},e.attrs.style?{style:e.attrs.style}:{}),{class:e&&e.attrs&&e.attrs.class?e.attrs.class:""}),0]}},w=function(){return(w=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function j(e,t,n,a){var r;return n>t&&e.doc.nodesBetween(t,n,(function(e){return!a.isInSet(e.marks)||(r=e.marks.find((function(e){return e.type===a})),!1)})),r}function S(e,t){return w(w({},e),t)}function _(e,t,n){var a,r,o=e.marks.inline_styles;return{name:"inline_styles_className_"+t,label:n,displayLabel:s.a.createElement("span",{className:t},n),apply:(a=o,r={class:t},function(e,t){var n=e.selection,o=n.$cursor,l=n.ranges;if(t)if(o)if(a.isInSet(e.storedMarks||o.marks())){var i=function(e,t){var n=e.selection.$cursor;if(n)return(e.storedMarks||n.marks()).find((function(e){return e.type===t}))}(e,a);t(e.tr.removeStoredMark(a)),i&&t(e.tr.addStoredMark(a.create(S(i.attrs,r))))}else t(e.tr.addStoredMark(a.create(r)));else{for(var c=!1,s=e.tr,u=0;!c&&u<l.length;u++){var d=l[u],f=d.$from,p=d.$to;c=e.doc.rangeHasMark(f.pos,p.pos,a)}for(var m=0,h=l;m<h.length;m++){var b=h[m],g=b.$from,v=b.$to;if(c){var y=w({},j(e,g.pos,v.pos,a).attrs);s.removeMark(g.pos,v.pos,a),s.addMark(g.pos,v.pos,a.create(S(y,r)))}else s.addMark(g.pos,v.pos,a.create(r))}t(s.scrollIntoView())}return!0}),isEnabled:function(e){return!0},isActive:function(e){return function(e,t,n){var a=e.selection,r=a.from,o=a.$from,l=a.to;return a.empty?!!t.isInSet(e.storedMarks||o.marks())&&(e.storedMarks||o.marks()).filter(n).length>0:function(e,t,n,a,r){var o=!1;return n>t&&e.nodesBetween(t,n,(function(e){return a.isInSet(e.marks)&&e.marks.filter(r).length>0&&(o=!0),!o})),o}(e.doc,r,l,t,n)}(e,o,(function(e){return e.attrs.class===t}))}}}var x={inline_styles:{open:function(e,t,n,a){var r={};t.attrs.class&&(r.class=t.attrs.class);var o=Object.keys(r).map((function(e){return e+'="'+r[e]+'"'})).join(" ");return o.length>0?"<span "+o+">":"<span>"},close:"</span>"}},T=new RegExp("^(?:<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>|<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>)"),I=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(T.source+"\\s*$"),/^$/,!1]];function N(e,t,n,a){var r,o,l,i,c=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(c))return!1;for(i=e.src.slice(c,s),r=0;r<I.length&&!I[r][0].test(i);r++);if(r===I.length)return!1;if(a)return I[r][2];if(o=t+1,!I[r][1].test(i))for(;o<n&&!(e.sCount[o]<e.blkIndent);o++)if(c=e.bMarks[o]+e.tShift[o],s=e.eMarks[o],i=e.src.slice(c,s),I[r][1].test(i)){0!==i.length&&o++;break}var u=e.getLines(t,o,e.blkIndent,!0),d=(new DOMParser).parseFromString(u,"text/html").body.firstChild,f=null==d?"":d.innerHTML;return e.line=o,(l=e.push("html_block_open","",1)).meta={tag:d.tagName,attrs:Array.from(d.attributes)},l.map=[t,e.line],(l=e.push("inline","",0)).map=[t,o],l.content=f,l.children=[],(l=e.push("html_block_close","",-1)).meta={tag:d.tagName},!0}function D(e,t){var n=e.pos;if("&shy;"!==e.src.slice(n,n+5))return!1;if(!t){var a=e.src.slice(n,n+5),r=e.push("soft_hyphen","shy",0);r.attrs=[],r.content=a}return e.pos=n+5,!0}var A={group:"inline",inline:!0,parseDOM:[{tag:"span[data-shy]",getAttrs:function(e){return{}}}],toDOM:function(e){return["span",{"data-shy":!0},"-"]}},L=n(143),M=n.n(L);var R={soft_hyphen:function(e,t){e.write("&shy;")}},z=function(){return(z=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},B=n(53),F=n(96),V=n(234).markdownItTable;function W(e,t){var n=F("commonmark",{html:!0});n.use(V),n.inline.ruler.before("text","soft_hyphen",D),n.block.ruler.before("html_block","html_block",N);var r=new B.MarkdownParser(e,n,z(z({},B.defaultMarkdownParser.tokens),{anchor:{node:"anchor",getAttrs:function(e){return{value:e.attrGet("value")}}},fence:{block:"code_block",getAttrs:function(e){return{params:e.info||""}},noCloseToken:!0},soft_hyphen:{node:"soft_hyphen"},table:{block:"table"},th:{block:"table_header",getAttrs:function(e){return{style:e.attrGet("style")}}},tr:{block:"table_row"},td:{block:"table_cell",getAttrs:function(e){return{style:e.attrGet("style")}}}}));r.tokenHandlers.html_inline=function(t,n){if(n&&n.content){var a=(n.content||"").trim();if(a.startsWith("<span")&&a.endsWith(">")){if(!(o=(new DOMParser).parseFromString(n.content,"text/html").body.firstChild))return;if("span"===o.nodeName.toLowerCase()){var r=o.getAttribute("class");t.openMark(e.marks.inline_styles.create({class:r}))}}else if("</span>"===a)t.closeMark(e.marks.inline_styles);else if(a.startsWith("<a")&&a.endsWith(">")){var o;if(!(o=(new DOMParser).parseFromString(n.content,"text/html").body.firstChild))return;if("a"===o.nodeName.toLowerCase()){var l=o.getAttribute("id");null!=l&&t.addNode(e.nodes.anchor,{value:l})}}else"<br>"===a&&t.addNode(e.nodes.hard_break)}};var o=new Map([["P","paragraph"],["H1","heading"],["H2","heading"],["H3","heading"],["H4","heading"],["H5","heading"],["H6","heading"]]),l=new Map([["amp-align-left","left"],["amp-align-center","center"],["amp-align-right","right"],["amp-align-justify","justify"]]);return r.tokenHandlers.html_block_open=function(n,r){if(o.has(r.meta.tag)){var i=r.meta.attrs.find((function(e){return"style"===e.name})),c="left";i&&(c=i.ownerElement.style.textAlign||c);var s=r.meta.attrs.find((function(e){return"class"===e.name}));s&&s.ownerElement.classList.forEach((function(e){var n=Object(a.getDefaultClass)(e,t);c=l.get(n)||"left"}));var u=o.get(r.meta.tag),d="heading"===u?Number(r.meta.tag[1]):void 0;n.openNode(e.nodes[u],{align:c||"left",level:d})}},r.tokenHandlers.html_block_close=function(e,t){o.has(t.meta.tag)&&e.closeNode()},r}var P={content:"inline*",attrs:{align:{default:"left"}},group:"block",parseDOM:[{tag:"p",getAttrs:function(e){return{align:e.style.textAlign}}}],toDOM:function(e){return["p",{style:"text-align: "+(e.attrs.align||"left")},0]}};function $(e){return function(t){return{align:t.style.textAlign,level:e}}}var H={attrs:{level:{default:1},align:{default:"left"}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:$(1)},{tag:"h2",getAttrs:$(2)},{tag:"h3",getAttrs:$(3)},{tag:"h4",getAttrs:$(4)},{tag:"h5",getAttrs:$(5)},{tag:"h6",getAttrs:$(6)}],toDOM:function(e){return["h"+e.attrs.level,{style:"text-align: "+(e.attrs.align||"left")},0]}};var J={table:function(e,t){for(var n=[],a=0;a<t.childCount;a++){var r=t.maybeChild(a);null!=r&&"table_row"===r.type.name&&n.push(r)}if(0!==n.length){e.render(n[0]);var o=n[0].childCount;e.write("\n");for(a=0;a<o;a++)e.write("|----------");e.write("|");for(a=1;a<n.length;a++)e.write("\n"),e.render(n[a]);e.closeBlock(t)}},table_row:function(e,t){e.write("| ");for(var n=function(n){var a=t.maybeChild(n);null!=a&&(n>0&&e.write(" | "),function(e,t){var n=e.out.length;t(),e.out=e.out.substr(0,n)+e.out.substr(n).trimEnd().replace(/\\?\n/g,"<br>").padEnd(8," "),e.closed=!1}(e,(function(){e.renderInline(a)})))},a=0;a<t.childCount;a++)n(a);e.write(" |")},table_cell:function(e,t){e.renderInline(t)},table_header:function(e,t){e.renderInline(t)}},Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},q=n(53);var G={text:function(e,t){e.text(function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t.text))}};function U(e){return new q.MarkdownSerializer(Z(Z(Z(Z(Z(Z(Z({},q.defaultMarkdownSerializer.nodes),R),E),J),function(e){return{paragraph:function(t,n){n.attrs.align&&"left"!==n.attrs.align&&"start"!==n.attrs.align?(e.useClasses?t.write('<p class="'+Object(a.getCustomClass)("amp-align-"+n.attrs.align,e)+'">'):t.write('<p style="text-align: '+n.attrs.align+'">'),t.renderInline(n),t.write("</p>"),t.closeBlock(n)):(t.renderInline(n),t.closeBlock(n))}}}(e)),function(e){return{heading:function(t,n){n.attrs.align&&"left"!==n.attrs.align&&"start"!==n.attrs.align?(e.useClasses?t.write("<h"+n.attrs.level+' class="'+Object(a.getCustomClass)("amp-align-"+n.attrs.align,e)+'">'):t.write("<h"+n.attrs.level+' style="text-align: '+n.attrs.align+'">'),t.renderInline(n),t.write("</h"+n.attrs.level+">"),t.closeBlock(n)):(t.write(t.repeat("#",n.attrs.level)+" "),t.renderInline(n),t.closeBlock(n))}}}(e)),G),Z(Z({},q.defaultMarkdownSerializer.marks),x))}var X,Q,Y=n(41).tableNodes,K=n(3).Schema;function ee(e,t){void 0===t&&(t=!1);var a=n(53).schema,r=a.spec.marks;t&&(r=r.addToEnd("inline_styles",O));var o=a.spec.nodes.append(Y({tableGroup:"block",cellContent:"block",cellAttributes:{background:{default:null,getFromDOM:function(e){return e.style.backgroundColor||null},setDOMAttr:function(e,t){e&&(t.style=(t.style||"")+"background-color: "+e+";")}}}})).addToEnd("soft_hyphen",A).addToEnd("anchor",h).update("paragraph",P).update("heading",H);return new K({nodes:o,marks:r})}function te(e,t){return null==X&&(X=U(t),Q=W(e,t)),[X,Q]}var ne=n(286),ae=n(287),re=n(288),oe=n(289),le=n(290),ie=n(145),ce=n.n(ie),se=n(41),ue=n(3).Fragment;function de(e){for(var t=e.selection.$head.path,n=0;n<t.length;n+=3)if("table"===t[n].type.name)return!0;return!1}function fe(e,t){return t.create(void 0,ue.fromArray([e.schema.nodes.paragraph.create()]))}function pe(e,t){var n=e.tr.replaceSelectionWith(e.schema.nodes.table.create(void 0,ue.fromArray([e.schema.nodes.table_row.create(void 0,ue.fromArray([fe(e,e.schema.nodes.table_header),fe(e,e.schema.nodes.table_header)])),e.schema.nodes.table_row.create(void 0,ue.fromArray([fe(e,e.schema.nodes.table_cell),fe(e,e.schema.nodes.table_cell)]))])));return t&&t(n),!0}var me=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],l=0,i=o.length;l<i;l++,r++)a[r]=o[l];return a};function he(e,t){var n=[];return Object(a.isToolEnabled)("inline_styles",t)&&(n=n.concat(n,function(e,t){var n=[];if(e.marks.inline_styles&&Object(a.isToolEnabled)("inline_styles",t)&&t.tools&&t.tools.inline_styles){var r=t.tools.inline_styles;if(r.classNames)for(var o=0,l=r.classNames;o<l.length;o++){var i=l[o];n.push(_(e,i.className,i.label))}}return n}(e,t))),Object(a.isToolEnabled)("anchor",t)&&e.nodes.anchor&&n.push(function(e,t){return{name:"anchor",label:"Insert Anchor",displayIcon:s.a.createElement(g.a,null),apply:k(e.nodes.anchor,t),isEnabled:function(t){return Object(a.canInsert)(t,e.nodes.anchor)}}}(e,t.dialogs?t.dialogs.getAnchor:void 0)),Object(a.isToolEnabled)("soft_hyphen",t)&&e.nodes.soft_hyphen&&n.push(function(e){return{name:"soft_hyphen",label:"Insert Soft Hyphen",displayIcon:s.a.createElement(M.a,null),apply:function(t,n){n(t.tr.replaceSelectionWith(e.nodes.soft_hyphen.create()))},isEnabled:function(t){return Object(a.canInsert)(t,e.nodes.soft_hyphen)}}}(e)),Object(a.isToolEnabled)("align_left",t)&&n.push({name:"align_left",label:"Align Left",displayIcon:s.a.createElement(r.a,null),apply:function(e,t){return f(e,t,"left")},isActive:function(e,t){return p(e,0,"left")},isVisible:m}),Object(a.isToolEnabled)("align_center",t)&&n.push({name:"align_center",label:"Align center",displayIcon:s.a.createElement(o.a,null),apply:function(e,t){return f(e,t,"center")},isActive:function(e,t){return p(e,0,"center")},isVisible:m}),Object(a.isToolEnabled)("align_right",t)&&n.push({name:"align_right",label:"Align Right",displayIcon:s.a.createElement(l.a,null),apply:function(e,t){return f(e,t,"right")},isActive:function(e,t){return p(e,0,"right")},isVisible:m}),Object(a.isToolEnabled)("align_justify",t)&&n.push({name:"align_justify",label:"Align Justify",displayIcon:s.a.createElement(i.a,null),apply:function(e,t){return f(e,t,"justify")},isActive:function(e,t){return p(e,0,"justify")},isVisible:m}),e.nodes.table&&(Object(a.isToolEnabled)("table_create",t)&&n.push(function(e){return{name:"table_create",label:"Create Table",displayIcon:s.a.createElement(ce.a,null),apply:pe,isEnabled:function(t){return Object(a.canInsert)(t,e.nodes.table)},isVisible:function(e){return!de(e)}}}(e)),Object(a.isToolEnabled)("table_delete",t)&&n.push({name:"table_delete",label:"Delete Table",displayIcon:s.a.createElement(le.a,null),apply:se.deleteTable,isVisible:function(e){return de(e)}}),Object(a.isToolEnabled)("table_row_add",t)&&n.push({name:"table_row_add",label:"Add Row",displayIcon:s.a.createElement(ne.a,null),apply:se.addRowAfter,isVisible:function(e){return de(e)}}),Object(a.isToolEnabled)("table_col_add",t)&&n.push({name:"table_col_add",label:"Add Column",displayIcon:s.a.createElement(ae.a,null),apply:se.addColumnAfter,isVisible:function(e){return de(e)}}),Object(a.isToolEnabled)("table_row_delete",t)&&n.push({name:"table_row_delete",label:"Delete Row",displayIcon:s.a.createElement(re.a,null),apply:se.deleteRow,isVisible:function(e){return de(e)}}),Object(a.isToolEnabled)("table_col_delete",t)&&n.push({name:"table_col_delete",label:"Delete Column",displayIcon:s.a.createElement(oe.a,null),apply:se.deleteColumn,isVisible:function(e){return de(e)}})),n}var be=function(){function e(e){void 0===e&&(e={}),this.name="markdown",this.label="Markdown";var t=ee(0,Object(a.isToolEnabled)("inline_styles",e)),n=me(Object(a.createStandardTools)(t,e),he(t,e)),r=U(e),o=W(t,e);this.schema=t,this.tools=n,this.serializer=r,this.parser=o}return e.prototype.serialize=function(e){return this.serializer.serialize(e)},e.prototype.parse=function(e){return e||(e=""),this.parser.parse(e)},e}(),ge={format:a.RichLanguageFormat.TEXT};t.c=function(e){return{language:new be(e),conf:ge}}},39:function(e,t,n){"use strict";function a(e){return e.selection.$from.depth>1}function r(e,t){var n=e.selection,a=n.from,r=n.$from,o=n.to;return n.empty?t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(a,o,t)}function o(e){var t=e.selection,n=t.$from,a=t.$to,r=[];return e.doc.nodesBetween(n.pos,a.pos,(function(e,t){e.marks.forEach((function(n){return r.push({from:t,to:t+e.nodeSize,mark:n})}))})),r}function l(e,t){for(var n=e.selection.$from,a=n.depth;a>=0;a--){var r=n.index(a);if(n.node(a).canReplaceWith(r,r,t))return!0}return!1}function i(){return function(e,t){var n=e.selection,a=n.$cursor,r=n.ranges;if(t)if(a)for(var o=0,l=e.storedMarks||a.marks();o<l.length;o++){var i=l[o];t(e.tr.removeStoredMark(i.type))}else{for(var c=e.tr,s=0,u=r;s<u.length;s++)for(var d=u[s],f=0,p=Object.keys(e.schema.marks);f<p.length;f++){var m=p[f];c.removeMark(d.$from.pos,d.$to.pos,e.schema.marks[m])}t(c)}return!0}}n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return i}))},48:function(e,t,n){"use strict";function a(){return{content:"block",group:"block",defining:!0,attrs:{value:{}},nodeSize:1,draggable:!0,atom:!0,parseDOM:[{tag:"dc-image-link[data-dc-image-link]",getAttrs:function(e){return{value:JSON.parse(e.getAttribute("data-dc-image-link"))}}}],toDOM:function(e){var t=e.attrs.value;return["dc-image-link",{"data-dc-image-link":JSON.stringify(t)}]}}}n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return T}));var r=n(0),o=n.n(r),l=n(15),i=n.n(l),c=n(20),s=n(6),u=n(2),d=function(){return(d=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},p=Object(s.a)({root:{display:"block",width:"100%",minHeight:150,margin:"0 10px 10px 0",position:"relative"},content:{},"empty-slot":{},"populated-slot":{}})((function(e){var t,n=e.classes,a=e.children,r=e.className,l=e.variant,i=void 0===l?"empty":l,c=e.aspectRatio,s=f(e,["classes","children","className","variant","aspectRatio"]),p=o.a.useMemo((function(){if(c){var e=c.split(":");if(2===e.length)return Math.round(Number(e[1])/Number(e[0])*100)+"%"}}),[c]);return o.a.createElement("div",d({},s,{className:Object(u.a)(n.root,(t={},t[n["empty-slot"]]="empty-slot"===i,t[n["populated-slot"]]="populated-slot"===i,t),r)}),c?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"block",paddingTop:p}},"\xa0"),o.a.createElement("div",{className:Object(u.a)(n.content)},a)):o.a.createElement("div",{className:Object(u.a)(n.content)},a))})),m=n(297),h=n(148),b=n.n(h),g=Object(s.a)({root:{"&$broken, &$invalid":{background:"#e5e5e5"}},image:{maxWidth:"100%"},loading:{},broken:{},invalid:{},statusIcons:{top:0,left:0,right:0,bottom:0,display:"flex",position:"absolute",alignItems:"center",alignContent:"center",flexDirection:"row",justifyContent:"center"}})((function(e){var t,n=e.node,a=e.onDelete,r=e.classes,l=e.options,i=n.attrs.value,s=o.a.useState(!1),d=s[0],f=s[1],h=o.a.useState(!1),g=h[0],v=h[1],y=o.a.useCallback((function(){v(!0)}),[v]),k=o.a.useCallback((function(){f(!0),v(!1)}),[f,v]),E=o.a.useCallback((function(){f(!1),v(!1)}),[f,v]),C=i&&i.endpoint&&i.name,O=c.e;return o.a.createElement("div",{className:Object(u.a)(r.root,(t={},t[r.broken]=d,t[r.loading]=g,t[r.invalid]=!C,t))},o.a.createElement(p,{variant:"populated-slot",aspectRatio:d||g||!C?"3:1":void 0},!!C&&o.a.createElement("img",{className:r.image,src:"//"+(l&&l.dynamicContent&&l.dynamicContent.stagingEnvironment?l.dynamicContent.stagingEnvironment:i.defaultHost)+"/i/"+i.endpoint+"/"+encodeURIComponent(i.name),onLoadStart:y,onError:k,onLoad:E,alt:""}),o.a.createElement("div",{className:r.statusIcons},g?o.a.createElement(m.a,null):!(!d&&C)&&o.a.createElement(b.a,{fontSize:"large"})),o.a.createElement(c.a,{variant:"populated-slot"},o.a.createElement(O,{variant:"dark",onClick:a},c.c))))})),v=function(){function e(e,t,n,a){void 0===a&&(a={}),this.node=e,this.view=t,this.getPos=n,this.options=a,this.dom=document.createElement("div"),this.handleDelete=this.handleDelete.bind(this),this.render()}return e.prototype.handleDelete=function(){var e=this.getPos(),t=this.view.state.tr.delete(e,e+this.node.nodeSize);this.view.dispatch(t)},e.prototype.render=function(){i.a.render(Object(c.i)(o.a.createElement(g,{options:this.options,node:this.node,onDelete:this.handleDelete})),this.dom)},e}();function y(){return{content:"block",group:"block",defining:!0,attrs:{value:{}},nodeSize:1,draggable:!0,atom:!0,parseDOM:[{tag:"dc-content-link[data-dc-content-link]",getAttrs:function(e){return{value:JSON.parse(e.getAttribute("data-dc-content-link"))}}}],toDOM:function(e){var t=e.attrs.value;return["dc-content-link",{"data-dc-content-link":JSON.stringify(t)}]}}}var k=Object(s.a)({root:{"&$broken, &$invalid":{background:"#e5e5e5"},boxShadow:"0 1px 5px 0 rgba(23,32,44,.2), 0 2px 2px 0 rgba(23,32,44,.1), 0 3px 1px -2px rgba(23,32,44,.1)"},invalid:{},content:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"50%"},statusIcons:{top:0,left:0,right:0,bottom:0,display:"flex",position:"absolute",alignItems:"center",alignContent:"center",flexDirection:"row",justifyContent:"center"}})((function(e){var t,n=e.node,a=e.onDelete,r=e.classes,l=e.options,i=n.attrs.value,s=i&&i.id&&i.contentType,d=l.tools&&l.tools["dc-content-link"]?l.tools["dc-content-link"]:void 0,f=d&&d.contentTypeSettings&&s?Object(c.h)(d.contentTypeSettings,i.contentType):void 0,m=d&&d.contentTypeSettings&&s?Object(c.g)(d.contentTypeSettings,i.contentType):void 0,h=d&&d.contentTypeSettings&&d.contentTypeSettings.aspectRatios&&s?function(e,t){for(var n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];if("*"===r||r===t)return e[r]}}(d.contentTypeSettings.aspectRatios,i.contentType):void 0,b=c.e;return o.a.createElement("div",{className:Object(u.a)(r.root,(t={},t[r.invalid]=!s,t))},o.a.createElement(p,{variant:"populated-slot",aspectRatio:h||"3:1"},o.a.createElement("div",{className:Object(u.a)(r.content),style:{backgroundImage:"url("+(f||c.b)+")"}},!!(m&&l&&l.dynamicContent&&l.dynamicContent.stagingEnvironment)&&o.a.createElement(c.f,{template:m,params:{contentItemId:i.id,stagingEnvironment:l.dynamicContent.stagingEnvironment}})),o.a.createElement(c.a,{variant:"populated-slot"},o.a.createElement(b,{variant:"dark",onClick:a},c.c))))}));var E=function(){function e(e,t,n,a){void 0===a&&(a={}),this.node=e,this.view=t,this.getPos=n,this.options=a,this.dom=document.createElement("div"),this.handleDelete=this.handleDelete.bind(this),this.render()}return e.prototype.handleDelete=function(){var e=this.getPos(),t=this.view.state.tr.delete(e,e+this.node.nodeSize);this.view.dispatch(t)},e.prototype.render=function(){i.a.render(Object(c.i)(o.a.createElement(k,{options:this.options,node:this.node,onDelete:this.handleDelete})),this.dom)},e}(),C=n(8),O=n(150),w=n.n(O),j=n(149),S=n.n(j),_=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(l,i)}c((a=a.apply(e,t||[])).next())}))},x=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=(r=l.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};function T(e,t){var n=[];return Object(C.isToolEnabled)("dc-image-link",t)&&e.nodes["dc-image-link"]&&n.push(function(e,t){var n=this,a=e.nodes["dc-image-link"];return{name:"dc-image-link",label:"Insert Image",displayIcon:o.a.createElement(S.a,null),isEnabled:function(e){return!Object(C.inBlock)(e)},apply:function(e,r,o){return _(n,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:if(!t)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t()];case 2:return e=n.sent(),o.dispatch(o.state.tr.replaceSelectionWith(a.createAndFill({value:e}))),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))}}}(e,t.dialogs?t.dialogs.getDcImageLink:void 0)),Object(C.isToolEnabled)("dc-content-link",t)&&e.nodes["dc-content-link"]&&t.tools&&t.tools["dc-content-link"]&&t.tools["dc-content-link"].contentTypes&&t.tools["dc-content-link"].contentTypes&&n.push(function(e,t,n){var a=this,r=e.nodes["dc-content-link"];return{name:"dc-content-link",label:"Insert Content",displayIcon:o.a.createElement(w.a,null),isEnabled:function(e){return!Object(C.inBlock)(e)},apply:function(e,o,l){return _(a,void 0,void 0,(function(){var e;return x(this,(function(a){switch(a.label){case 0:if(!n)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n(t)];case 2:return e=a.sent(),l.dispatch(l.state.tr.replaceSelectionWith(r.createAndFill({value:e}))),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}}))}))}}}(e,t.tools["dc-content-link"].contentTypes,t.dialogs?t.dialogs.getDcContentLink:void 0)),n}},72:function(e,t,n){"use strict";n(53),n(3).Node;var a=function(){function e(){}return e.prototype.canSerialize=function(e,t){return"dc-image-link"===t.type},e.prototype.serialize=function(e,t){return t.map((function(e){return{type:"dc-image-link",data:e.attrs.value}}))},e.prototype.canParse=function(e,t){return"dc-image-link"===t.type},e.prototype.parse=function(e,t){var n=[];return t.forEach((function(e){n.push({type:"dc-image-link",attrs:{value:e.data}})})),n},e}();t.a=a},73:function(e,t,n){"use strict";var a=n(36),r=(n(53),n(3).Node),o=function(){function e(e){this.options=e}return e.prototype.canSerialize=function(e,t){return this.ensureInit(e),!!t.type&&null!=this.serializer.nodes[t.type]},e.prototype.serialize=function(e,t){this.ensureInit(e);var n=r.fromJSON(e,{type:"doc",content:t});return[{type:"markdown",data:this.serializer.serialize(n)}]},e.prototype.canParse=function(e,t){return"markdown"===t.type},e.prototype.parse=function(e,t){var n=this;this.ensureInit(e);var a=[];return t.forEach((function(e){var t=n.parser.parse(e.data||"").toJSON();a=a.concat.apply(a,t.content||[])})),a},e.prototype.ensureInit=function(e){var t;t=Object(a.d)(e,this.options),this.serializer=t[0],this.parser=t[1]},e}();t.a=o},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(36),r=n(48),o=n(3).Schema;function l(e,t){var n=Object(a.b)(e,t);return new o({nodes:n.spec.nodes.addBefore("image","dc-image-link",Object(r.c)()).addBefore("image","dc-content-link",Object(r.a)()),marks:n.spec.marks})}},75:function(e,t,n){"use strict";var a={format:n(8).RichLanguageFormat.JSON};t.a=a},76:function(e,t,n){"use strict";var a=n(8),r=n(36),o=n(48),l=(n(53),n(3).Node,function(){function e(){}return e.prototype.canSerialize=function(e,t){return"dc-content-link"===t.type},e.prototype.serialize=function(e,t){return t.map((function(e){return{type:"dc-content-link",data:e.attrs.value}}))},e.prototype.canParse=function(e,t){return"dc-content-link"===t.type},e.prototype.parse=function(e,t){var n=[];return t.forEach((function(e){n.push({type:"dc-content-link",attrs:{value:e.data}})})),n},e}()),i=n(72),c=n(73),s=n(74),u=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],l=0,i=o.length;l<i;l++,r++)a[r]=o[l];return a},d=n(3).Node,f=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=[new c.a(e),new i.a,new l]),this.blockTypes=t,this.name="json",this.label="JSON";var n=Object(a.isToolEnabled)("inline_styles",e),d=Object(s.a)(e,n),f=u(Object(a.createStandardTools)(d,e),Object(o.e)(d,e),Object(r.a)(d,e));this.schema=d,this.tools=f}return e.prototype.serialize=function(e){var t=this;if(!e)return[];if(!(e=e.toJSON()).content||0===e.content.length)return[];for(var n=p(e.content,(function(e){for(var n=0,a=t.blockTypes;n<a.length;n++){var r=a[n];if(r.canSerialize(t.schema,e))return r}})),a=[],r=0,o=n;r<o.length;r++){var l=o[r],i=l.group.serialize(this.schema,l.items);a=a.concat.apply(a,i)}return a},e.prototype.parse=function(e){var t=this;if(!e||0===e.length)return d.fromJSON(this.schema,{type:"doc",content:[{type:"paragraph"}]});for(var n={type:"doc",content:[]},a=p(e,(function(e){for(var n=0,a=t.blockTypes;n<a.length;n++){var r=a[n];if(r.canParse(t.schema,e))return r}})),r=0,o=a;r<o.length;r++){var l=o[r],i=l.group.parse(this.schema,l.items);n.content=n.content.concat.apply(n.content,i)}return d.fromJSON(this.schema,n)},e}();t.a=f;function p(e,t){for(var n=[],a=null,r=[],o=0,l=e;o<l.length;o++){var i=l[o],c=t(i);void 0!==c&&(null===a?(a=c,r=[i]):a===c?r.push(i):(r.length>0&&n.push({group:a,items:r}),a=c,r=[i]))}return r.length>0&&null!==a&&n.push({group:a,items:r}),n}},8:function(e,t,n){"use strict";var a=n(105);n.o(a,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return a.RichLanguageFormat})),n.o(a,"canInsert")&&n.d(t,"canInsert",(function(){return a.canInsert})),n.o(a,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return a.createStandardTools})),n.o(a,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return a.getCustomClass})),n.o(a,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return a.getDefaultClass})),n.o(a,"inBlock")&&n.d(t,"inBlock",(function(){return a.inBlock})),n.o(a,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return a.isToolEnabled}));var r=n(109);n.o(r,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return r.RichLanguageFormat})),n.o(r,"canInsert")&&n.d(t,"canInsert",(function(){return r.canInsert})),n.o(r,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return r.createStandardTools})),n.o(r,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return r.getCustomClass})),n.o(r,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return r.getDefaultClass})),n.o(r,"inBlock")&&n.d(t,"inBlock",(function(){return r.inBlock})),n.o(r,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return r.isToolEnabled}));var o=n(111);n.o(o,"RichLanguageFormat")&&n.d(t,"RichLanguageFormat",(function(){return o.RichLanguageFormat})),n.o(o,"canInsert")&&n.d(t,"canInsert",(function(){return o.canInsert})),n.o(o,"createStandardTools")&&n.d(t,"createStandardTools",(function(){return o.createStandardTools})),n.o(o,"getCustomClass")&&n.d(t,"getCustomClass",(function(){return o.getCustomClass})),n.o(o,"getDefaultClass")&&n.d(t,"getDefaultClass",(function(){return o.getDefaultClass})),n.o(o,"inBlock")&&n.d(t,"inBlock",(function(){return o.inBlock})),n.o(o,"isToolEnabled")&&n.d(t,"isToolEnabled",(function(){return o.isToolEnabled}));var l=n(39);n.d(t,"canInsert",(function(){return l.a})),n.d(t,"inBlock",(function(){return l.d}))}},[[166,1,2]]]);
//# sourceMappingURL=main.c66a63ed.chunk.js.map